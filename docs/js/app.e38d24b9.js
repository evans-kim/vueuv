(function(t){function e(e){for(var i,r,a=e[0],c=e[1],l=e[2],d=0,h=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vueuv/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"01aa":function(t,e,n){},"0a3c":function(t,e,n){},1347:function(t,e,n){"use strict";n("8022")},5355:function(t,e,n){"use strict";n("cdfb")},"72fd":function(t,e,n){},"74c8":function(t,e,n){"use strict";n("01aa")},8022:function(t,e,n){},"8f2f":function(t,e,n){},"93fb":function(t,e,n){"use strict";n("72fd")},ac26:function(t,e,n){"use strict";n("bd8c")},b68c:function(t,e,n){"use strict";n("bb0a")},ba8c:function(t,e,n){},bb0a:function(t,e,n){},bd8c:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,o,s,r,a=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative bg-gray-200 min-h-screen",attrs:{id:"app"}},[n("vueuv-editor",{attrs:{target:"test-promotion-page"},model:{value:t.html,callback:function(e){t.html=e},expression:"html"}}),n("SmallPage",{attrs:{id:"test-promotion-page"}})],1)},l=[],u=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cms-thumbnail-box fixed-margin",attrs:{id:"igele"}},[n("div",{staticClass:"cms-thumbnail-title",attrs:{id:"i6tqa"}},[n("h5",{staticClass:"price-title",attrs:{id:"i600v"}},[t._v("3만원 이상")])]),n("div",{staticClass:"cms-thumbnail-list",attrs:{id:"iaas8"}},[n("div",{staticClass:"cms-thumbnail-item"},[n("img",{staticClass:"cms-thumbnail-img",attrs:{src:"https://image.candleworks.com/cms-manager/3/00ZoBh18LdXdLmPMoJfQdlJs9NKHyYqm7ovN4Kyw.jpeg",id:"ii40p"}})]),n("div",{staticClass:"cms-thumbnail-item"},[n("img",{staticClass:"cms-thumbnail-img",attrs:{src:"https://image.candleworks.com/cms-manager/3/2x6N8mrlDmOau5dllEETf1es39cmW6cmxocInyUf.jpeg"}})]),n("div",{staticClass:"cms-thumbnail-item"},[n("img",{staticClass:"cms-thumbnail-img",attrs:{src:"https://image.candleworks.com/cms-manager/3/bHhznOEJZWDVSEED6LYNJn9InbyvpLX3wSY41Sfn.jpeg"}}),n("div",{staticClass:"cursor-pointer",attrs:{id:"itjn4u",title:""}},[n("div",{attrs:{id:"ivgqzs"}}),n("div",{attrs:{id:"iuhcb7"}},[n("h4",{staticClass:"cms-thumbnail-item-title"},[t._v("버드 디퓨저 세라믹")])])])]),n("div",{staticClass:"cms-thumbnail-item"},[n("img",{staticClass:"cms-thumbnail-img",attrs:{src:"https://image.candleworks.com/cms-manager/3/N8ukyMZUfsWXg5MnhdSrcB1qst0vyliE82ujmev3.jpeg"}}),n("div",{staticClass:"cursor-pointer",attrs:{id:"i63pi2",title:""}},[n("div",{attrs:{id:"is0xki"}},[n("div",{staticClass:"absolute left-0 top-0 w-full h-full flex items-center justify-center",attrs:{id:"i3vvo3"}},[n("h4",{staticClass:"text-white"},[t._v("증정종료")])])]),n("div",{attrs:{id:"iovlji"}},[n("h4",{staticClass:"cms-thumbnail-item-title"},[t._v("온도계")])])])])])])}],h={name:"SmallPage"},f=h,g=(n("74c8"),n("2877")),p=Object(g["a"])(f,u,d,!1,null,null,null),m=p.exports,v={name:"VuePageBuilder",components:{SmallPage:m},data:function(){return{html:null}}},b=v,C=Object(g["a"])(b,c,l,!1,null,null,null),y=C.exports,x=n("a6f4"),S=(n("d81d"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getEditorClass,staticStyle:{position:"relative"}},[n("menubar"),t.isEditable?n("content-render",{key:t.renderKey,ref:"render",attrs:{value:t.contentModel},on:{input:t.handleRenderInput}}):t._e(),t.isEditable?t._e():n("content-exporter",{ref:"exporter",attrs:{value:t.contentModel}}),n("content-style",{ref:"style",attrs:{content:t.contentModel,"raw-css":t.css}}),n("layout-helper",{ref:"helper"}),n("pop-label",{ref:"selectLabel",attrs:{content:t.states.selectedContent}}),n("pop-label",{ref:"label",attrs:{content:t.states.focusedContent}}),n("pop-label",{ref:"label",attrs:{content:t.states.editingContent,color:"orange"}}),n("div",{staticClass:"whitespace-pre"},[t._v(" "+t._s(t.contentModel)+" ")])],1)}),w=[],$=(n("a630"),n("a9e3"),n("c1f9"),n("d3b7"),n("3ca3"),n("ddb0"),n("2909")),_=(n("96cf"),n("1da1")),E=n("53ca"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("style",{tag:"component",attrs:{type:"text/css"}},[t._v(" "+t._s(t.rawCss?t.rawCss:t.parseContentStyles(t.content))+" ")])},T=[],j=(n("99af"),n("4de4"),n("a15b"),n("c145")),O={name:"ContentStyle",props:{content:{type:Object},rawCss:{type:String}},methods:{parseContentStyles:function(t){var e=j(t.contents,(function(t){return t.cssText||null}));return[t.cssText].concat(Object($["a"])(e)).filter((function(t){return t})).join("\n\n")}}},B=O,I=Object(g["a"])(B,k,T,!1,null,null,null),P=I.exports,M=a["default"].extend({name:"ContentExporter",props:{value:{type:[Object,String],required:!0}},render:function(t){var e=this,n=e.value;if("string"===typeof n)return e._v(n);var i=n.contents||[],o=i.map((function(e,n){return t("content-exporter",{props:{value:e},key:n})}));return t(n.tag,{class:n.class||[],style:n.style||{},attrs:Object.assign(n.attrs||{},n.props||{}),props:n.props||{}},o)}}),L=M,R=Object(g["a"])(L,i,o,!1,null,"5ee86010",null),N=R.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade-in-out",mode:"out-in"}},[t.isLayoutComponent?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isSorting,expression:"!isSorting"}],style:t.getStyle},[n("div",{staticClass:"m-2"},[n("div",{staticClass:"flex justify-start mb-1"},[n("button",{staticClass:"rounded border mr-1 bg-white shadow p-2 focus:outline-none",class:t.activeClass("class"),on:{click:function(e){t.activeTab="class"}}},[t._v("클래스 ")]),n("button",{staticClass:"rounded border mr-1 bg-white shadow p-2 focus:outline-none",class:t.activeClass("style"),on:{click:function(e){t.activeTab="style"}}},[t._v("스타일 ")]),n("button",{staticClass:"rounded border mr-1 bg-white shadow p-2 focus:outline-none",class:t.activeClass("controller"),on:{click:function(e){t.activeTab="controller"}}},[t._v("레이아웃 ")]),n("button",{staticClass:"rounded border mr-1 bg-white shadow p-2 focus:outline-none",class:t.activeClass("tree"),on:{click:function(e){t.activeTab="tree"}}},[t._v("구조 ")]),n("vu-button",{on:{click:function(e){return e.stopPropagation(),t.addContents(e)}}},[n("i",{staticClass:"icofont icofont-sub-listing"})]),n("vu-button",{attrs:{color:"orange"},on:{click:function(e){return e.stopPropagation(),t.deleteContents(e)}}},[n("i",{staticClass:"icofont icofont-delete"})])],1),n("div",{staticClass:"panel-body p-2 bg-white shadow rounded",staticStyle:{"max-width":"40rem"}},["class"===t.activeTab?n("div",[n("class-tag-input",{attrs:{value:t.getTargetClasses},on:{input:t.classHandler}})],1):t._e(),"style"===t.activeTab?n("div",[n("div",{staticStyle:{"min-width":"10rem"}},[t._v(" 클래스 : "+t._s(t.getTargetClasses)+" ID : #"+t._s(t.getTargetComponent.value.id)+" ")]),n("code-editor",{model:{value:t.getTargetStyleText,callback:function(e){t.getTargetStyleText=e},expression:"getTargetStyleText"}})],1):t._e(),"controller"===t.activeTab?n("div",[n("vu-button",{on:{click:t.toggleDisplay}},[t._v(" flex")]),t._v(" | "),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","flex-start")}}},[t._v(" left")]),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","center")}}},[t._v(" center")]),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","flex-end")}}},[t._v(" right")]),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","space-between")}}},[t._v(" around")]),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","space-around")}}},[t._v(" between")]),t._v(" | "),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","flex-start")}}},[t._v(" top")]),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","baseline")}}},[t._v(" Baseline")]),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","center")}}},[t._v(" center")]),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","flex-end")}}},[t._v(" bottom")]),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","stretch")}}},[t._v(" stretch")]),t._v(" | "),n("vu-button",{on:{click:function(e){return t.setStyle("flex-direction","row")}}},[t._v(" Row")]),n("vu-button",{on:{click:function(e){return t.setStyle("flex-direction","column")}}},[t._v(" Column")])],1):t._e(),"tree"===t.activeTab?n("div",{ref:"structure",staticStyle:{"max-height":"300px","overflow-y":"auto"}},[n("content-tree",{model:{value:t.$editor.contentModel.contents,callback:function(e){t.$set(t.$editor.contentModel,"contents",e)},expression:"$editor.contentModel.contents"}})],1):t._e()])])]):t._e()])},H=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-input-wrapper bg-white p-2 border shadow flex justify-start flex-wrap",on:{click:function(e){return e.stopPropagation(),t.focusInput(e)}}},[t._l(t.value,(function(e,i){return n("span",{key:i,staticClass:"m-1 mt-0 p-1 border rounded bg-gray-200 cursor-pointer hover:bg-gray-300 shadow",on:{click:function(e){return e.stopPropagation(),t.removeItem(i)}}},[t._v(" "+t._s(e)+" ")])})),n("input",{ref:"input",staticClass:"tag-input-input",attrs:{type:"text"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputHandler(e)}}})],2)},F=[],D=(n("a434"),n("eed6")),G={name:"ClassTagInput",props:{value:{type:Array}},methods:{inputHandler:function(t){var e=t.target.value;this.$emit("input",D([].concat(Object($["a"])(this.value),[e]).filter((function(t){return t})))),t.target.value=""},removeItem:function(t){this.value.splice(t,1)},focusInput:function(t){this.$refs["input"].focus()}}},U=G,K=(n("93fb"),Object(g["a"])(U,V,F,!1,null,"52b55fbd",null)),q=K.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("prism-editor",t._g(t._b({staticClass:"my-editor",attrs:{highlight:t.highlighter}},"prism-editor",t.$attrs,!1),t.$listeners))},z=[],W=n("e57a"),X=(n("cabf"),n("8c7a")),Y=(n("cb55"),n("416b"),n("6605"),n("92bf"),{name:"CodeEditor",components:{PrismEditor:W["a"]},methods:{highlighter:function(t){return Object(X["highlight"])(t,X["languages"].js)}}}),Z=Y,Q=(n("b68c"),Object(g["a"])(Z,J,z,!1,null,null,null)),tt=Q.exports,et={name:"VuButton",functional:!0,render:function(t,e){var n=e.data;return n.class=["p-2","shadow-md","border","inline-block","focus:outline-none","shadow-md"],n.attrs&&n.attrs.color?(n.class.push("bg-".concat(n.attrs.color,"-600")),n.class.push("text-white")):n.class.push("bg-white"),t("button",n,e.children)}},nt=et,it=Object(g["a"])(nt,s,r,!1,null,null,null),ot=it.exports;n("25f0");function st(){return Math.random().toString(36).substr(2,6)}var rt,at,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasContents(t.value)?n("draggable",{attrs:{tag:"ul",group:"content-tree","ghost-class":"ghost",handle:".node-handler",animation:"300",value:t.value},on:{input:function(e){t.$emit("input",e)}}},t._l(t.value,(function(e,i){return n("li",{key:i,staticClass:"pl-3"},[e&&e.id?n("div",{staticClass:"node",class:{"selected-tag":t.isFocused(e.id)},style:t.getStyle(e)},[n("span",{staticClass:"node-handler p-2",on:{click:function(n){return n.stopPropagation(),t.setSelectedContentId(e)}}},[t._v(" :: ")]),t._v(" "+t._s(e.tag)+"#"+t._s(e.id)+" "),t.hasChildren(e)?n("span",{staticClass:"toggle",on:{click:function(){t.isOpen=!t.isOpen}}},[t._v(" "+t._s(t.isOpen?"-":"+")+" ")]):t._e()]):t._e(),t.hasChildren(e)?[n("content-tree",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],model:{value:e.contents,callback:function(n){t.$set(e,"contents",n)},expression:"com.contents"}})]:t._e()],2)})),0):t._e()},lt=[],ut=n("b76a"),dt=n.n(ut),ht={name:"ContentTree",components:{draggable:dt.a},inject:["$editor"],data:function(){return{isOpen:!0}},props:{value:{type:Array,default:function(){return[]}}},computed:{getStates:function(){return this.$editor.states}},methods:{isFocused:function(t){return this.getStates.focusedContent&&this.getStates.focusedContent.id===t},isSelected:function(t){return this.getStates.selectedContent&&this.getStates.selectedContent===t},hasContents:function(t){return t&&t.length>0},getStyle:function(t){var e={};return this.isFocused(t.id)&&(e.background="green",e.color="white"),this.isSelected(t.id)&&(e.background="green",e.color="white"),e},setSelectedContentId:function(t){if(t.id){var e=this.$editor.getContentRenderById(t.id,this.$editor.$refs.render);e.setFocusedContent()}},hasChildren:function(t){return t.contents&&t.contents.length}}},ft=ht,gt=(n("1347"),Object(g["a"])(ft,ct,lt,!1,null,"832bfa38",null)),pt=gt.exports,mt={name:"LayoutHelper",inject:["$editor"],components:{ContentTree:pt,CodeEditor:tt,ClassTagInput:q,VuButton:ot},data:function(){return{activeTab:"tree",getStyle:{display:"none",justifyContent:"baseline",position:"absolute",padding:"0.5rem",left:0,right:"auto",top:0,zIndex:10}}},watch:{activeTab:function(t){var e=this;"tree"===t&&this.$nextTick((function(){e.scrollMoveToSelectedContent()}))},isChangedPosition:function(t,e){var n=this;t&&t!==e&&"tree"===this.activeTab&&this.$nextTick((function(){n.scrollMoveToSelectedContent()}))},contentFocused:function(t){this.isLayoutComponent?this.setPosition(t.component.$el):this.hide()},isSorting:function(){var t=this;this.$nextTick((function(){setTimeout((function(){t.contentFocused&&t.setPosition(t.contentFocused.component.$el)}),100)}))}},computed:{isChangedPosition:function(){return this.getStyle.left+this.getStyle.right},getTargetComponent:function(){return this.$editor.states.focusedContent?this.$editor.states.focusedContent.component:null},getTargetClasses:function(){return this.getTargetComponent.value.class||[]},getTargetStyleText:{get:function(){return this.getTargetComponent.value.cssText||""},set:function(t){this.getTargetComponent.value.cssText?this.getTargetComponent.value.cssText=t:this.$set(this.getTargetComponent.value,"cssText",t)}},getContentModel:function(){return this.$editor.contentModel},contentFocused:function(){return this.$editor.states.focusedContent},isSorting:function(){return this.$editor.states.isSorting},isLayoutComponent:function(){return this.contentFocused&&this.getTargetComponent}},methods:{hide:function(){this.getStyle.display="none"},setPosition:function(t){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.$editor.$el.getBoundingClientRect(),o=t.getBoundingClientRect(),e.getStyle.left=o.x+"px",e.getStyle.right="auto",e.getStyle.top=o.y-i.y+o.height+10+"px",e.getStyle.display="flex",n.next=8,e.$nextTick((function(){var t=e.$el.getBoundingClientRect(),n=window.innerWidth-(t.x+t.width)-100;n<0?(e.getStyle.left="auto",e.getStyle.right="20px"):e.getStyle.right="auto"}));case 8:case"end":return n.stop()}}),n)})))()},scrollMoveToSelectedContent:function(){var t=this.$refs["structure"],e=t.getElementsByClassName("selected-tag");if(e.length){var n=e[0],i=n.getBoundingClientRect(),o=t.getBoundingClientRect(),s=i.y-o.y+t.scrollTop-20;s<0&&(s=0),t.scrollTo({top:s})}},recursiveParents:function(t){if(t.contents,t.parent)return this.recursiveParents(t.parent)},classHandler:function(t){this.getTargetComponent.value.class=t},activeClass:function(t){return this.activeTab===t?["text-green-600"]:["hover:text-green-600"]},setStyle:function(t,e){this.getTargetComponent.value.style||this.$set(this.getTargetComponent.value,"style",{}),this.$set(this.getTargetComponent.value.style,t,e)},toggleDisplay:function(){this.getTargetComponent.value.style&&"flex"===this.getTargetComponent.value.style.display?this.setStyle("display","flow-root"):this.setStyle("display","flex")},addContents:function(){if(!this.getTargetComponent.value.contents){var t=this.getTargetComponent.value;return t={tag:"div",id:st(),class:["p-2"],contents:[t]},this.getTargetComponent.updateValue(t),void(this.$editor.config.showGrid=!0)}this.$set(this.getTargetComponent.value.contents,this.getTargetComponent.value.contents.length,{tag:"div",id:st(),class:["p-2"],contents:[]}),this.$editor.config.showGrid=!0},deleteContents:function(){this.getTargetComponent.deleteContent()}}},vt=mt,bt=Object(g["a"])(vt,A,H,!1,null,"aeb30a80",null),Ct=bt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex border shadow mb-4 p-2 bg-white"},[n("div",{staticClass:"bold text-2xl px-2"},[t._v(" Vueuv Editor ")]),n("draggable",{staticClass:"flex mr-2",attrs:{list:t.blocks,group:{name:"content-render",pull:"clone",put:!1},clone:t.addContent},on:{start:function(){t.isSorting=!0}}},t._l(t.blocks,(function(e,i){return n("div",{key:i,staticClass:"bg-white p-2 shadow-md border inline-block",attrs:{draggable:"true"}},[t._v(" "+t._s(e.label)+" ")])})),0),n("vu-button",{on:{click:t.toggleGrid}},[n("i",{staticClass:"icofont icofont-eye"})]),n("vu-button",{on:{click:t.exportEditor}},[n("i",{staticClass:"icofont icofont-save"})]),n("vu-button",{on:{click:t.undoContent}},[n("i",{staticClass:"icofont icofont-undo"})])],1)},xt=[],St=n("0644"),wt={name:"Menubar",inject:["$editor"],components:{VuButton:ot,Draggable:dt.a},data:function(){return{blocks:[{tag:"text-content",label:"문단",class:["p-2"],props:{value:"새로운 문단"}}]}},computed:{isSorting:{get:function(){return this.$editor.states.isSorting},set:function(t){this.$editor.states.isSorting=t}}},methods:{toggleGrid:function(){this.$editor.config.showGrid=!this.$editor.config.showGrid},addContent:function(t){var e=St(t);return e.id=st(),e},exportEditor:function(){"editable"===this.$editor.config.mode?this.$editor.showRawCode():this.$editor.config.mode="editable"},undoContent:function(){this.$editor.undo()}}},$t=wt,_t=Object(g["a"])($t,yt,xt,!1,null,"5157c7a4",null),Et=_t.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.getLabel?n("div",{style:t.tagStyle},[n("div",{staticStyle:{position:"relative"}},[n("span",{staticClass:"pop-tag",style:{backgroundColor:t.color}},[t._v(t._s(t.getLabel.value.tag)+"#"+t._s(t.getLabel.value.id))]),t.bordered?n("div",{staticClass:"pop-border",style:t.topBorder}):t._e(),t.bordered?n("div",{staticClass:"pop-border",style:t.rightBorder}):t._e(),t.bordered?n("div",{staticClass:"pop-border",style:t.bottomBorder}):t._e(),t.bordered?n("div",{staticClass:"pop-border",style:t.leftBorder}):t._e()])]):t._e()},Tt=[],jt={name:"PopLabel",inject:["$editor"],props:{content:{type:[Object,String]},color:{type:String,default:"#42b983"},bordered:{type:Boolean,default:!1}},watch:{getLabel:function(t){if(t){var e=this.$editor.$el.getBoundingClientRect(),n=this.content.component.$el.getBoundingClientRect();this.setBorder(n),this.tagStyle.top=n.y-e.y-20+"px",this.tagStyle.left=n.x-e.x-2+"px"}}},computed:{getLabel:function(){return this.content?this.content.component:null}},data:function(){return{offset:{x:2,y:18},labelStyle:{},tagStyle:{position:"absolute",color:"white",fontSize:"12px"},topBorder:{},leftBorder:{},rightBorder:{},bottomBorder:{}}},methods:{setBorder:function(t){this.topBorder.top="18px",this.topBorder.left=0,this.topBorder.height="2px",this.topBorder.width=t.width+"px",this.topBorder.backgroundColor=this.color,this.bottomBorder.top=18+t.height+"px",this.bottomBorder.left=0,this.bottomBorder.height="2px",this.bottomBorder.width=t.width+"px",this.bottomBorder.backgroundColor=this.color,this.leftBorder.top="18px",this.leftBorder.left=0,this.leftBorder.height=t.height+"px",this.leftBorder.width="2px",this.leftBorder.backgroundColor=this.color,this.rightBorder.top="18px",this.rightBorder.left=t.width+"px",this.rightBorder.height=t.height+2+"px",this.rightBorder.width="2px",this.rightBorder.backgroundColor=this.color}}},Ot=jt,Bt=(n("ac26"),Object(g["a"])(Ot,kt,Tt,!1,null,"2bb060ac",null)),It=Bt.exports,Pt=(n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{contentEditable:t.isEdited},domProps:{innerHTML:t._s(t.value)},on:{click:t.$listeners.click,mouseover:t.$listeners.mouseover,dblclick:t.$listeners.dblclick}})}),Mt=[],Lt={name:"InnerText",props:{value:{type:String}},data:function(){return{isEdited:!1}},methods:{enableEdit:function(){console.log("on"),this.isEdited=!0},disableEdit:function(){var t=this.$el.innerHTML;console.log(t),this.$emit("update:value",t),this.isEdited=!1}}},Rt=Lt,Nt=Object(g["a"])(Rt,Pt,Mt,!1,null,"a3171816",null),At=Nt.exports,Ht=n("8a23"),Vt={name:"ContentRender",render:function(t){var e=this,n=this.value;if(n){var i={dblclick:this.activeContent,click:this.focusContent,mouseover:this.selectContent},o=n.props||{},s=Object.keys(o),r={};s.length&&(r=Object.fromEntries(s.map((function(t){return["update:"+t,function(n){e.$set(e.value.props,t,n)}]}))));var a=n.contents||[],c=a.map((function(n){return"string"===typeof n?n:t("content-render",{props:{value:n,parent:e},key:n.id})})),l=n.tag||"div";"img"===n.tag&&(l="basic-image");var u={"data-id":this.getUid,"data-title":this.getTag},d=Object.assign(r,i),h=Object.assign(n.attrs||{},o,u),f={class:[].concat(Object($["a"])(n.class||[]),Object($["a"])(this.selectorClass())),style:n.style||{},attrs:h,props:o,on:d,ref:"content",key:n.id};return t(l,f,c)}},components:{InnerText:At,CodeEditor:tt,Draggable:dt.a},inject:["$editor"],props:{value:{type:[Object,String],required:!0},parent:{type:Object}},data:function(){return{uid:null,isEdited:!1,isLabelBottom:!1,isGuided:!1,sortable:null}},computed:{getState:function(){return this.$editor.states},selectedContent:{get:function(){return this.getState.selectedContent},set:function(t){if(this.isDragging)return!1;this.getState.selectedContent=t}},focusedContent:{get:function(){return this.getState.focusedContent},set:function(t){if(this.isDragging)return!1;this.getState.focusedContent=t}},isSorting:{get:function(){return this.getState.isSorting},set:function(t){this.getState.isSorting=t}},editingContent:{get:function(){return this.getState.editingContent||null},set:function(t){this.getState.editingContent=t}},selectedElement:{get:function(){return this.getState.selectedElement},set:function(t){if(this.isDragging)return!1;this.getState.selectedElement=t}},getClass:function(){return Object($["a"])(this.value.class)},getTag:function(){return this.value.tag||"text"},contentId:function(){return this.value.id},isSelectedContent:function(){return this.selectedContent&&this.selectedContent.id===this.contentId},isFocusedContent:function(){return this.focusedContent&&this.focusedContent.component===this},isEditing:function(){return!!this.editingContent&&(this.editingContent&&this.editingContent.component===this)},getUid:function(){return this.value.id},getContent:function(){return this.$refs["content"]},isStringType:function(){return"string"===typeof this.value},getAttrs:function(){return Object.assign(this.value.attrs||{},this.value.props||{})},getGroupOption:function(){return{name:"content-render",pull:!this.$editor.keys.ctrl||"clone",put:!0}}},methods:{selectorClass:function(){var t=[];return this.isEditing&&t.push("is-editable"),(this.isSelectedContent||this.isFocusedContent)&&t.push("is-selected"),this.isLabelBottom&&t.push("label-bottom"),(this.$editor.config.showGrid||this.$editor.states.isSorting)&&t.push("show-guide"),this.isGuided&&t.push("hide-guide"),t},setUid:function(){this.isStringType||this.value.id||this.$set(this.value,"id",this.createUid())},deleteContent:function(){var t=this;if(!this.parent)return console.warn("Root cannot be removed"),!1;this.parent.value.contents=this.parent.value.contents.filter((function(e){return e.id!==t.value.id}))},getDataIdFrom:function(t){return t.target.getAttribute("data-id")},getParentContentRender:function(t){var e=t.parentNode;return e?e!==this.$el?this.getParentContentRender(e):this.$el:null},selectContent:function(t){var e=this;if(!this.focusedContent){if(!t.target!==this.$el){var n=this.getParentContentRender(t.target);if(n)return this.selectedContent={id:this.contentId,component:this},void t.stopPropagation()}if(this.getState.isSorting)return!1;this.selectedContent={id:this.contentId,component:this},this.$nextTick((function(){e.labelStyle()})),t.stopPropagation()}},setEditingContentAsThis:function(){this.focusedContent={id:this.contentId,component:this},this.$refs["content"]&&this.$refs["content"].enableEdit?this.$refs["content"].enableEdit():this.isEdited=!0,this.setEditingContent()},activeContent:function(t){if(this.isEditing)return this.unsetEditingContent(),void t.stopPropagation();this.setEditingContentAsThis(),t.stopPropagation()},unsetEditingContent:function(){var t=this.editingContent.component;t.$refs["content"]&&t.$refs["content"].disableEdit?t.$refs["content"].disableEdit(this):(this.isEdited=!1,this.$emit("update:value",t.$el.innerHTML)),this.getState.editingContent=null},setEditingContent:function(){this.selectedContent=null,this.focusedContent=null,this.getState.editingContent={id:this.getUid,component:this}},setFocusedContent:function(){this.selectedContent=null,this.editingContent=null,this.getState.focusedContent={id:this.getUid,component:this}},focusContent:function(t){this.editingContent&&!this.isEditing&&(this.focusedContent=null,this.selectedContent=null,this.unsetEditingContent()),this.focusedContent&&this.focusedContent.id===this.contentId?(this.focusedContent=null,this.selectedContent=null):(this.selectedContent=null,this.focusedContent={id:this.getDataIdFrom(t),component:this}),t.stopPropagation()},createUid:function(){return st()},labelStyle:function(){var t=this.$el.getBoundingClientRect();this.isLabelBottom=t.y<20},updateContents:function(t){this.value.contents=t,this.$emit("input",this.value),this.isSorting=!1},updateValue:function(t){this.$emit("input",t)},move:function(t,e,n){var i=t[e];this.$delete(t,e),t.splice(n,0,i)},initSorting:function(){if(this.value.contents&&this.value.contents.length){var t={vue:this},e=this.$editor;this.sortable=Ht["a"].create(this.$el,{group:"content-render",ghostClass:"ghost",animation:200,onAdd:function(n){var i={type:"add",item:n.item.getAttribute("data-id"),from:n.from.getAttribute("data-id"),to:n.to.getAttribute("data-id"),oldIndex:n.oldIndex,newIndex:n.newIndex},o=e.getContentValueById(i.item);t.vue.value.contents.splice(i.newIndex,0,o)},onRemove:function(n){var i={type:"remove",item:n.item.getAttribute("data-id"),from:n.from.getAttribute("data-id"),to:n.to.getAttribute("data-id"),oldIndex:n.oldIndex,newIndex:n.newIndex};if(t.vue.$editor.keys.ctrl){console.log("복제하기");var o=function t(e){e.id=st(),e.contents&&e.contents.map((function(e){t(e)}))},s=St(e.getContentValueById(i.item));return console.log(s),o(s),t.vue.$set(t.vue.value.contents,i.oldIndex,s),t.vue.$editor.refreshKey(),void console.log("복제위해 새로운 데이터를 넣습니다.",s,t.vue.value)}t.vue.value.contents.splice(i.oldIndex,1)},onUpdate:function(e){var n={type:"update",item:e.item.getAttribute("data-id"),from:e.from.getAttribute("data-id"),to:e.to.getAttribute("data-id"),oldIndex:e.oldIndex,newIndex:e.newIndex};t.vue.move(t.vue.value.contents,n.oldIndex,n.newIndex)}})}}},created:function(){this.setUid()},mounted:function(){this.initSorting()}},Ft=Vt,Dt=(n("e404"),Object(g["a"])(Ft,rt,at,!1,null,"09a1e4a3",null)),Gt=Dt.exports,Ut={name:"VueuvEditor",components:{ContentRender:Gt,PopLabel:It,Menubar:Et,LayoutHelper:Ct,ContentExporter:N,ContentStyle:P},props:{html:{type:String},css:{type:String},target:{type:[String,Object]},undoStep:{type:[Number,String],default:10}},watch:{config:{deep:!0,handler:function(t,e){var n=this;console.log(t,e),this.transit=!0,setTimeout((function(){n.transit=!1}),1e3)}}},data:function(){return{transit:!1,config:{mode:"editable",showGrid:!0},states:{selectedContent:null,focusedContent:null,editingContent:null,isSorting:!1},contentModel:{contents:[]},logs:[],keys:{ctrl:!1,alt:!1},renderKey:"default"}},provide:function(){return{$editor:this}},computed:{isEditable:function(){return"editable"===this.config.mode},hasEditingContent:function(){return!!this.states.editingContent},getEditorClass:function(){return{"fade-in-out-leave-active":this.transit}}},methods:{refreshKey:function(){this.renderKey=st()},undo:function(){if(this.logs.length){var t=this.logs.pop();console.log(t),this.contentModel=t,console.log("복구")}},getContentValueById:function(t){return this.getContentRenderById(t,this.$refs.render).value||{}},getContentRenderById:function(t,e){if(e&&"object"===Object(E["a"])(e)){if(e.contentId===t)return e;for(var n,i=0;i<e.$children.length;i++)if(n=this.getContentRenderById(t,e.$children[i]),n)return n}},showRawCode:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.config.mode="export",n={html:"",css:""},e.next=4,t.$nextTick((function(){n.html=t.getHtml(),n.css=t.getCSS()}));case 4:t.$emit("input",n.html+'<style type="text/css">'.concat(n.css,"</style>"));case 5:case"end":return e.stop()}}),e)})))()},getHtml:function(){var t=this.$refs["exporter"];return t.$el.outerHTML},getCSS:function(){var t=this.$refs["style"];return t.$el.innerText},parseNode:function(t){switch(t.nodeType){case 3:return this.parseTextElement(t);default:return this.parseElement(t)}},parseTextElement:function(t){return{tag:"inner-text",id:st(),class:[],props:{value:t.textContent}}},parseElement:function(t){var e=Object.fromEntries(Array.from(t.attributes,(function(t){var e=t.name,n=t.value;return[e,n]}))),n=e.id||st(),i=Object($["a"])(t.classList),o=t.tagName.toLowerCase(),s={tag:o,id:n,class:i,props:e};return t.childNodes&&(s.contents=Array.from(t.childNodes,this.parseNode)),s},convertValueProp:function(t){var e=new DOMParser,n=e.parseFromString(t,"text/html"),i=n.getElementsByTagName("body"),o=this.parseNode(i[0]);this.contentModel=o.contents[0]},handleRenderInput:function(t){this.contentModel=t}},mounted:function(){var t=this;if(this.target){var e=document.getElementById(this.target);this.convertValueProp(e.outerHTML),e.style.display="none"}this.value&&"string"===typeof this.value&&this.convertValueProp(this.value),document.addEventListener("keydown",(function(e){"MetaLeft"===e.code&&(t.keys.ctrl=!0)})),document.addEventListener("keyup",(function(e){"MetaLeft"===e.code&&(t.keys.ctrl=!1)}))}},Kt=Ut,qt=(n("5355"),Object(g["a"])(Kt,S,w,!1,null,"46b3f55a",null)),Jt=qt.exports,zt={install:function(t,e){e.plugins.length>0&&e.plugins.map((function(e){e.methods&&e.methods.enableEdit&&e.methods.disableEdit?e.name?t.component(e.name,e):console.warn("Non name component. It cannot be registered."):console.warn(e.name+" cannot be registered. Vueuv Plugin must have [enableEdit, disableEdit] methods.")})),t.component(Jt.name,Jt),t.directive("vueuv",{bind:function(t,e,n,i){console.log(t,n,e)}})}},Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:t.getEditorId},domProps:{innerHTML:t._s(t.value)}})},Xt=[],Yt=n("e562"),Zt=n.n(Yt);n("ec27"),n("0d68"),n("840a"),n("0a9d"),n("bc54"),n("fbbd"),n("62e5"),n("2fec"),n("ffbe"),n("6957"),n("855b"),n("64d8"),n("0efa"),n("365e"),n("3154"),n("4ea8"),n("4237"),n("3aea"),n("0335"),n("07d7"),n("07d1"),n("c3d7"),n("2b07"),n("ebac"),n("eda9"),n("d2dc"),n("ef37"),n("4bd0"),n("0902"),n("84ec"),n("9434"),n("8863"),n("78e4"),n("cfb0"),n("0aa0"),n("90e7"),n("7193");n("0342");var Qt={name:"TextContent",props:{value:{type:String}},data:function(){return this.editor=null,{contentId:null}},methods:{enableEdit:function(){this.loadEditor()},disableEdit:function(){this.$emit("update:value",this.editor.getContent()),this.editor.hide()},loadEditor:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.editor){e.next=3;break}return t.editor.show(),e.abrupt("return");case 3:return n=t.$el.getAttribute("id"),e.next=6,Zt.a.init({selector:"#"+n,menubar:!1,inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],font_formats:"Noto Sans KR=Noto Sans KR,sans-serif;",toolbar:"undo redo | fontselect fontsizeselect formatselect | bold italic backcolor | forecolor backcolor casechange permanentpen formatpainter removeformat | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | help",inline_styles:!0});case 6:i=e.sent,console.log(i),t.editor=i[0];case 9:case"end":return e.stop()}}),e)})))()}},computed:{getEditorId:function(){return this.value.id||this._uid}}},te=Qt,ee=Object(g["a"])(te,Wt,Xt,!1,null,"312668ac",null),ne=ee.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isEdited?n("div",t._g({staticClass:"relative"},t.$listeners),[n("img",{attrs:{alt:t.alt,src:t.src}}),n("div",{staticClass:"absolute",style:t.getEditorStyle},[n("div",{staticClass:"flex justify-center items-center h-full p-2"},[n("label",{staticClass:"text-white",attrs:{for:"src"}},[t._v("Source")]),n("input",{staticClass:"w-full",attrs:{id:"src"},domProps:{value:t.src},on:{change:function(e){t.$emit("update:src",e.target.value)}}})])])]):n("img",t._g({attrs:{alt:t.alt,src:t.src}},t.$listeners))},oe=[],se={name:"BasicImage",props:{alt:String,src:String},data:function(){return{isEdited:!1}},methods:{enableEdit:function(){this.isEdited=!0},disableEdit:function(){this.isEdited=!1}},computed:{getEditorStyle:function(){return{top:0,width:this.$el.clientWidth+"px",height:this.$el.clientHeight+"px",background:"rgba(0,0,0, .5)"}}}},re=se,ae=Object(g["a"])(re,ie,oe,!1,null,"9f358b68",null),ce=ae.exports;n("ba8c"),n("8f2f");a["default"].use(x["a"]),a["default"].use(zt,{plugins:[ne,ce,At]}),a["default"].config.productionTip=!1;var le=new a["default"]({render:function(t){return t(y)}}).$mount("#app");e["default"]=le},cdfb:function(t,e,n){},e404:function(t,e,n){"use strict";n("0a3c")}});
//# sourceMappingURL=app.e38d24b9.js.map