(function(t){function e(e){for(var i,a,r=e[0],c=e[1],l=e[2],d=0,f=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/vueuv/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0022":function(t,e,n){},2283:function(t,e,n){"use strict";n("5d9a")},"269d":function(t,e,n){},"28fa":function(t,e,n){"use strict";n("0022")},4384:function(t,e,n){},4714:function(t,e,n){"use strict";n("b40c")},"4a20":function(t,e,n){"use strict";n("4384")},"5d9a":function(t,e,n){},"8f2f":function(t,e,n){},"987b":function(t,e,n){"use strict";n("c870")},"9c67":function(t,e,n){"use strict";n("d0ea")},b40c:function(t,e,n){},b68c:function(t,e,n){"use strict";n("bb0a")},ba8c:function(t,e,n){},bb0a:function(t,e,n){},c870:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,s,o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative bg-gray-100 min-h-screen",attrs:{id:"app"}},[n("vueuv-editor")],1)},r=[],c={name:"VuePageBuilder",data:function(){return{html:null}}},l=c,u=n("2877"),d=Object(u["a"])(l,a,r,!1,null,null,null),f=d.exports,h=n("a6f4"),p=(n("d81d"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getEditorClass,staticStyle:{position:"relative"},on:{click:function(e){return e.stopPropagation(),t.setDefaultSelect(e)}}},[n("menubar",{key:t.menubarKey}),n("div",{ref:"responseFrame",style:t.getRenderSectionStyle},[t.isEditable?n("content-render",{ref:"render",attrs:{value:t.contentModel},on:{"update:content":t.handleRenderInput}}):n("inner-frame",{ref:"exporter"})],1),t.isEditable?[n("template-saver",{ref:"templateSaver"}),n("helper",{ref:"helper"})]:t._e(),n("content-style"),n("div",{staticClass:"whitespace-pre"},[t._v(" "+t._s(t.contentModel)+" ")]),n("document",{attrs:{visible:t.showDocument},on:{"update:visible":function(e){t.showDocument=e}}})],2)}),m=[],v=(n("99af"),n("a630"),n("a434"),n("a9e3"),n("c1f9"),n("3ca3"),n("2909")),g=(n("96cf"),n("1da1")),b=n("53ca"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLayoutComponent?n("div",{style:t.getStyle},[n("div",{staticClass:"m-2"},[n("div",{staticClass:"flex"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.getStyle.opacity,expression:"getStyle.opacity"}],attrs:{type:"range",min:"0.1",max:"1",step:"0.01"},domProps:{value:t.getStyle.opacity},on:{__r:function(e){return t.$set(t.getStyle,"opacity",e.target.value)}}})])]),n("div",{staticClass:"flex justify-between mb-1"},[n("div",[n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("class"),on:{click:function(e){t.activeTab="class"}}},[t._v("Class ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("style"),on:{click:function(e){t.activeTab="style"}}},[t._v("Style ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("controller"),on:{click:function(e){t.activeTab="controller"}}},[t._v("Layout ")])]),n("div",[n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.addContents(e)}}},[t._v("Add ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.deleteContents(e)}}},[t._v("Remove ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.copy(e)}}},[t._v(" Copy ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.keepAsTemplate(e)}}},[t._v(" Keep ")])])]),n("div",{staticClass:"panel-body p-2 bg-white shadow rounded",staticStyle:{"max-width":"40rem"}},["class"===t.activeTab?n("div",[n("class-tag-input",{attrs:{value:t.getTargetClasses},on:{input:t.classHandler}})],1):t._e(),"style"===t.activeTab?n("div",[n("div",{staticStyle:{"min-width":"10rem"}},[t._v(" 클래스 : "),t._l(t.getTargetClasses,(function(e,i){return n("vu-button",{key:i,on:{click:function(n){return n.stopPropagation(),t.addClassToCssText(e)}}},[t._v(t._s(e)+" ")])})),t._v(" ID : "),n("vu-button",{on:{click:function(e){return e.stopPropagation(),t.addIdSelectorToCssText(e)}}},[t._v("#"+t._s(t.focusedContent.value.id))])],2),n("code-editor",{model:{value:t.getTargetStyleText,callback:function(e){t.getTargetStyleText=e},expression:"getTargetStyleText"}})],1):t._e(),"controller"===t.activeTab?n("div",t._l(Object.keys(t.control),(function(e,i){return n("div",{key:"control"+i+t.$editor.renderKey},[n("h4",{staticClass:"text-lg bold py-1"},[t._v(t._s(e))]),t._l(t.control[e],(function(i,s){return n("vu-button",{key:"btn"+s,attrs:{color:t.hasStyle(e,t.control[e][s])},on:{click:function(n){return t.setStyle(e,t.control[e][s])}}},[t._v(" "+t._s(i)+" ")])}))],2)})),0):t._e()]),n("div",{ref:"structure",staticClass:"p-1 border shadow mt-2 bg-white",staticStyle:{"max-height":"300px","overflow-y":"auto"}},[n("content-tree",{model:{value:t.$editor.contentModel.contents,callback:function(e){t.$set(t.$editor.contentModel,"contents",e)},expression:"$editor.contentModel.contents"}})],1)])]):t._e()},y=[],x=(n("c975"),n("ade3")),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-input-wrapper bg-white p-2 border shadow flex justify-start flex-wrap",on:{click:function(e){return e.stopPropagation(),t.focusInput(e)}}},[t._l(t.value,(function(e,i){return n("span",{key:i,staticClass:"m-1 mt-0 p-1 border rounded bg-gray-200 cursor-pointer hover:bg-gray-300 shadow",on:{click:function(e){return e.stopPropagation(),t.removeItem(i)}}},[t._v(" "+t._s(e)+" ")])})),n("input",{directives:[{name:"model",rawName:"v-model",value:t.temp,expression:"temp"}],ref:"input",staticClass:"tag-input-input",attrs:{type:"text"},domProps:{value:t.temp},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputHandler(e)},input:function(e){e.target.composing||(t.temp=e.target.value)}}}),t.temp&&t.autoComplete?n("div",{staticClass:"relative h-0"},[n("ul",{staticClass:"absolute bg-white border shadow p-2 relative",staticStyle:{top:"10px","max-height":"400px","overflow-y":"auto"}},t._l(t.getFiltered,(function(e,i){return n("li",{key:i},[t._v(" "+t._s(e)+" ")])})),0)]):t._e()],2)},$=[],k=(n("4de4"),n("4d63"),n("ac1f"),n("25f0"),n("eed6")),S={name:"ClassTagInput",data:function(){return{temp:null}},props:{value:{type:Array},autoComplete:{type:Boolean,default:!1}},computed:{getFiltered:function(){var t=new RegExp(this.temp);return this.getAllClasses.filter((function(e){return t.test(e)}))},getAllClasses:function(){if(!this.autoComplete)return[];for(var t=[],e=document.styleSheets,n=0;n<e.length;n++)for(var i=document.styleSheets[n].cssRules,s=0;s<i.length;s++)t.push(i[s].selectorText);return k(t)}},methods:{inputHandler:function(t){this.$emit("input",k([].concat(Object(v["a"])(this.value),[this.temp]).filter((function(t){return t})))),this.temp=""},removeItem:function(t){this.value.splice(t,1)},focusInput:function(t){this.$refs["input"].focus()}}},j=S,_=(n("2283"),Object(u["a"])(j,w,$,!1,null,"0f514cb0",null)),T=_.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{staticClass:"my-editor w-full",attrs:{rows:"10"},domProps:{value:t.value},on:{change:t.handleInput}})},E=[],B={name:"CodeEditor",props:{value:{type:String}},methods:{handleInput:function(t){var e=t.target.value;this.$emit("input",e)}}},M=B,P=(n("b68c"),Object(u["a"])(M,O,E,!1,null,null,null)),I=P.exports,R={name:"VuButton",functional:!0,render:function(t,e){var n=e.data;return n.class=["p-1","shadow","border","inline-block","focus:outline-none"],n.attrs&&n.attrs.color?(n.class.push("bg-".concat(n.attrs.color,"-600")),n.class.push("text-white")):n.class.push("bg-white"),t("button",n,e.children)}},A=R,N=Object(u["a"])(A,i,s,!1,null,null,null),V=N.exports,F=(n("4160"),n("4fad"),n("d3b7"),n("5319"),n("159b"),n("0644")),L=n.n(F);function H(){return Math.random().toString(36).substr(2,6)}function D(t){t.id;t.id=H(),t.class||o["default"].set(t,"class",[]),t.cssObject||o["default"].set(t,"cssObject",{}),t.cssText?t.cssText=t.cssText.replace(/#.*{?/gi,"#"+t.id+" {"):o["default"].set(t,"cssText",""),t.contents&&t.contents.length&&t.contents.map((function(t){D(t)}))}function U(t){return L()(t)}function G(t){var e=L()(t);return D(e),e}function K(t){var e=window.getComputedStyle(t),n=document.createElement(t.tagName);document.body.insertAdjacentElement("afterbegin",n);var i=window.getComputedStyle(n),s={},o=/webkit.*/;return Object.entries(e).forEach((function(t){o.test(t)||i[t[0]]!==t[1]&&(s[t[0]]=t[1])})),n.remove(),s}var q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasContents(t.value)?n("draggable",{attrs:{tag:"ul",group:"content-tree","ghost-class":"ghost",handle:".node-handler",animation:"300",value:t.value},on:{input:t.handleValue}},t._l(t.value,(function(e,i){return n("li",{key:i,staticClass:"pl-3"},[e&&e.id?n("div",{staticClass:"node",class:{"selected-tag":t.isFocused(e.id)},style:t.getStyle(e)},[n("span",{staticClass:"node-handler p-2",on:{click:function(n){return n.stopPropagation(),t.setSelectedContentById(e.id)},dblclick:function(n){return n.stopPropagation(),t.setEditingContentById(e.id)}}},[t._v(" :: ")]),t._v(" "+t._s(e.tag)+"#"+t._s(e.id)+" "),t.hasChildren(e)?n("span",{staticClass:"toggle",on:{click:function(){t.isOpen=!t.isOpen}}},[t._v(" "+t._s(t.isOpen?"-":"+")+" ")]):t._e()]):t._e(),t.hasChildren(e)?[n("content-tree",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],model:{value:e.contents,callback:function(n){t.$set(e,"contents",n)},expression:"com.contents"}})]:t._e()],2)})),0):t._e()},z=[],Q=n("b76a"),J=n.n(Q),W={name:"ContentTree",components:{draggable:J.a},inject:["$editor"],data:function(){return{isOpen:!0}},props:{value:{type:Array,default:function(){return[]}}},computed:{getStates:function(){return this.$editor.states}},methods:{isFocused:function(t){return this.getStates.focusedContent&&this.getStates.focusedContent.id===t},isSelected:function(t){return this.getStates.selectedContent&&this.getStates.selectedContent===t},hasContents:function(t){return t&&t.length>0},getStyle:function(t){var e={};return this.isFocused(t.id)&&(e.background="green",e.color="white"),this.isSelected(t.id)&&(e.background="green",e.color="white"),e},setSelectedContentById:function(t){if(t){var e=this.$editor.getContentRenderById(t,this.$editor.$refs.render);e.setFocusedContent()}},setEditingContentById:function(t){if(t){var e=this.$editor.getContentRenderById(t,this.$editor.$refs.render);e.setEditingContent()}},hasChildren:function(t){return t.contents&&t.contents.length},handleValue:function(t){this.$editor.setRollBackPoint(),this.$emit("input",t)}}},Z=W,X=(n("4714"),Object(u["a"])(Z,q,z,!1,null,"4c04cd0a",null)),Y=X.exports,tt=n("b324"),et=n.n(tt),nt={name:"Helper",inject:["$editor"],components:{ContentTree:Y,CodeEditor:I,ClassTagInput:T,VuButton:V},data:function(){return{activeTab:"class",getStyle:{display:"none",justifyContent:"baseline",position:"absolute",left:0,right:"auto",top:0,zIndex:10,opacity:1,transition:"all ease-in-out 0.2s"},pointer:{x:0,y:0},isShowTemplate:!1,templateName:null,control:{display:["block","inline","flex","inline-block","flow-root"],"justify-content":["center","flex-start","flex-end","space-between","space-around"],"align-items":["flex-start","baseline","center","flex-end","stretch"],"flex-direction":["row","column"]}}},watch:{editorMedia:function(t){var e=this;this.contentFocused&&this.$nextTick((function(){setTimeout((function(){e.setPosition(e.contentFocused.component.$el),e.scrollMoveToSelectedContent()}),400)}))},contentFocused:function(t){var e=this;this.isLayoutComponent?(this.setPosition(t.component.$el),this.$nextTick((function(){e.scrollMoveToSelectedContent()}))):this.hide()},focusedContentValue:{deep:!0,handler:function(){this.resetPosition()}},isSorting:function(){this.resetPosition()}},computed:{focusedContent:function(){return this.$editor.states.focusedContent?this.$editor.states.focusedContent.component:null},focusedContentValue:function(){return this.focusedContent?this.focusedContent.value:""},getTargetClasses:function(){return this.focusedContent.value.class||[]},editorMedia:function(){return this.$editor.getCurrentMedia},getTargetStyleText:{get:function(){return this.focusedContent.value.cssText||""},set:function(t){var e=et()(t||"",{camelCase:!1,numbers:!1});this.updateFocusedValue(t,"cssText"),this.updateFocusedValue(e,"cssObject")}},getContentModel:function(){return this.$editor.contentModel},contentFocused:function(){return this.$editor.states.focusedContent},isSorting:function(){return this.$editor.states.isSorting||this.$editor.states.editingContent},isLayoutComponent:function(){return this.contentFocused&&this.focusedContent},getIndexFromParent:function(){return this.focusedContent.parent?this.focusedContent.parent.value.contents.map((function(t){return t.id})).indexOf(this.focusedContent.value.id):null}},methods:{resetPosition:function(){var t=this;this.contentFocused&&this.$nextTick((function(){t.setPosition(t.contentFocused.component.$el),t.scrollMoveToSelectedContent()}))},updateValue:function(t){this.focusedContent.updateContentValue(t)},updateFocusedValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$editor.setRollBackPoint();var n=this.focusedContent.value;e?(this.$set(n,e,t),this.updateValue(n)):this.updateValue(t)},hide:function(){this.getStyle.display="none"},setPosition:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.$nextTick();case 4:return i=e.$editor.$el.getBoundingClientRect(),s=t.getBoundingClientRect(),e.getStyle.display="absolute",e.getStyle.left=s.x+i.x+"px",e.getStyle.right="auto",e.getStyle.top=s.y+i.y+s.height+20+"px",e.getStyle.display="flex",e.getStyle.opacity=1,n.next=14,e.$nextTick((function(){var t=e.$el.getBoundingClientRect(),n=window.innerWidth-(t.x+t.width)-100;n<0?(e.getStyle.left="auto",e.getStyle.right="20px"):e.getStyle.right="auto"}));case 14:case"end":return n.stop()}}),n)})))()},scrollMoveToSelectedContent:function(){var t=this.$refs["structure"],e=t.getElementsByClassName("selected-tag");if(e.length){var n=e[0],i=n.getBoundingClientRect(),s=t.getBoundingClientRect(),o=i.y-s.y+t.scrollTop-20;o<0&&(o=0),t.scrollTo({top:o})}},classHandler:function(t){this.updateFocusedValue(t,"class")},activeClass:function(t){return this.activeTab===t?["active"]:[]},hasStyle:function(t,e){var n=this.focusedContent.contentStyleObject;return n&&n[t]&&n[t]===e?"green":null},setStyle:function(t,e){this.focusedContent.setCssObject(Object(x["a"])({},t,e))},toggleDisplay:function(){this.focusedContent.value.style&&"flex"===this.focusedContent.value.style.display?this.setStyle("display","flow-root"):this.setStyle("display","flex")},addContents:function(){var t=this;if(this.$editor.setRollBackPoint(),!this.focusedContent.value.contents)return this.focusedContent.parent.value.contents.map((function(e,n){e.id===t.focusedContent.value.id&&t.focusedContent.parent.value.contents.splice(n+1,0,G({tag:"div",id:H(),class:["p-2"],contents:[]}))})),this.$editor.config.showGrid=!0,void this.$editor.refreshKey();this.$set(this.focusedContent.value.contents,this.focusedContent.value.contents.length,G({tag:"div",id:H(),class:["p-2"],contents:[]})),this.$editor.config.showGrid=!0,this.focusedContent.parent?this.focusedContent.parent.changingUpdate():this.focusedContent.changingUpdate()},deleteContents:function(){var t=this;this.$editor.setRollBackPoint();var e=0;this.focusedContent.parent.value.contents.map((function(n,i){t.focusedContent.value===n&&(e=i)})),this.focusedContent.parent.value.contents.splice(e,1),this.focusedContent.parent?this.focusedContent.parent.changingUpdate():this.focusedContent.changingUpdate()},copy:function(){var t=this;this.$editor.setRollBackPoint();var e=0;this.focusedContent.parent.value.contents.map((function(n,i){t.focusedContent.value===n&&(e=i)}));var n=G(this.focusedContent.value);this.focusedContent.parent.value.contents.splice(e,0,n),this.focusedContent.parent.refreshValue()},addIdSelectorToCssText:function(){var t="#"+this.focusedContent.value.id+"{\n  \n}";this.$editor.media.mobile&&(t=this.$editor.mediaQuery.mobile+"{\n  #"+this.focusedContent.value.id+"{\n  \n  }\n}"),this.focusedContent.value.cssText?this.focusedContent.value.cssText+=t:this.getTargetStyleText=t},addClassToCssText:function(t){var e="\n."+t+"{\n  \n}";this.focusedContent.value.cssText?this.focusedContent.value.cssText+=e:this.getTargetStyleText=e},keepAsTemplate:function(){this.$editor.$refs["templateSaver"].show()}}},it=nt,st=(n("d528"),Object(u["a"])(it,C,y,!1,null,"06fd5fe2",null)),ot=st.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex border shadow p-2 bg-white"},[n("div",{staticClass:"bold text-2xl"},[t._v(" Vueuv Editor ")]),n("div",{staticClass:"mx-2"},[t._v(" Contents "),n("div",{ref:"sortable",staticClass:"flex"},t._l(t.getBlocks,(function(e,i){return n("div",{key:i,staticClass:"bg-white p-1 shadow-md border inline-block",attrs:{"data-block-index":i}},[t._v(" "+t._s(e.label)+" ")])})),0)]),n("div",{staticClass:"mx-2"},[t._v(" Media "),n("toggle-group",{attrs:{unique:""},model:{value:t.$editor.media,callback:function(e){t.$set(t.$editor,"media",e)},expression:"$editor.media"}})],1),n("div",{staticClass:"mx-2"},[t._v(" Config "),n("toggle-group",{model:{value:t.$editor.config,callback:function(e){t.$set(t.$editor,"config",e)},expression:"$editor.config"}})],1),n("div",{staticClass:"mx-2"},[t._v(" Action "),n("div",[n("vu-button",{on:{click:t.exportEditor}},[t._v(" save ")]),n("vu-button",{on:{click:t.undoContent}},[t._v(" undo ")]),n("vu-button",{on:{click:function(){t.$editor.showDocument=!0}}},[t._v(" help ")])],1)]),n("div",{staticClass:"mx-2"},[t._v(" Templates "),n("div",{ref:"template",staticClass:"flex items-center"},t._l(t.getTemplates,(function(e,i){return n("div",{key:"template"+i,staticClass:"bg-white p-1 shadow-md border inline-block",attrs:{"data-block-index":i},on:{click:function(n){return t.deleteTemplate(e)}}},[t._v(" "+t._s(e.label)+" ")])})),0)])])},rt=[],ct=n("d4ec"),lt=n("bee2"),ut=n("8a23"),dt=function(){function t(e,n){var i=this;if(Object(ct["a"])(this,t),this.vue=e,this.options={group:"content-render",ghostClass:"vueuv-ghost",animation:300},this.vue.value&&this.vue.value.contents){var s={onStart:function(t){i.onStart(t)},onEnd:function(t){i.onEnd(t)},onAdd:function(t){i.onAdd(t)},onRemove:function(t){i.onRemove(t)},onUpdate:function(t){i.onUpdate(t)}};this.options=Object.assign(this.options,s)}n&&(this.options=Object.assign(this.options,n))}return Object(lt["a"])(t,[{key:"setEvent",value:function(t,e){this.options[t]=function(t){e(t)}}},{key:"init",value:function(t){this._sortable=ut["a"].create(t||this.vue.$el,this.options)}},{key:"parseEvent",value:function(t,e){return{type:e,item:t.item.getAttribute("data-id"),from:t.from.getAttribute("data-id"),to:t.to.getAttribute("data-id"),oldIndex:t.oldIndex||0,newIndex:t.newIndex||0}}},{key:"idRecreate",value:function(t){var e=this;t.id=H(),t.contents&&t.contents.map((function(t){e.idRecreate(t)}))}},{key:"onStart",value:function(t){this.editor.states.isSorting=!0}},{key:"onEnd",value:function(t){this.editor.states.isSorting=!1}},{key:"onAdd",value:function(t){var e=this.parseEvent(t,"add"),n={};this.editor.hasDragBlock()?(n=G(this.editor.states.dragBlock),t.item.remove()):(console.log(e.item),n=G(this.editor.getContentValueById(e.item)),t.item.remove()),this.editor.setRollBackPoint(),this.vue.value.contents.splice(e.newIndex,0,n),this.vue.updateContents(this.vue.value)}},{key:"onRemove",value:function(t){var e=this.parseEvent(t,"remove");this.editor.setRollBackPoint(),this.vue.value.contents.splice(e.oldIndex,1),this.vue.updateContents(this.vue.value)}},{key:"onUpdate",value:function(t){var e=this.parseEvent(t,"update");this.editor.setRollBackPoint(),this.vue.move(this.vue.value.contents,e.oldIndex,e.newIndex),this.vue.updateContents(this.vue.value)}},{key:"editor",get:function(){return this.vue.$editor}}]),t}(),ft=function(){function t(){Object(ct["a"])(this,t)}return Object(lt["a"])(t,[{key:"getAll",value:function(){return JSON.parse(window.localStorage.getItem("vueuv-templates"))||[]}},{key:"clear",value:function(){window.localStorage.setItem("vueuv-templates","")}},{key:"remove",value:function(t){this.store(this.getAll().filter((function(e){return e.label!==t})))}},{key:"store",value:function(t){window.localStorage.setItem("vueuv-templates",JSON.stringify(t))}},{key:"get",value:function(t){var e=JSON.parse(window.localStorage.getItem("vueuv-templates"));return e.filter((function(e){return e.label===t}))}},{key:"set",value:function(t,e){var n=this.getAll().filter((function(e){return e.label!==t}));n.push({label:t,value:e}),this.store(n)}}]),t}(),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.getOptions,(function(e,i){return n("vu-button",{key:i,attrs:{color:t.hasValue(e)?t.color:null},on:{click:function(n){return t.toggle(e)}}},[t._v(" "+t._s(e)+" ")])})),1)},pt=[],mt=(n("b64b"),{name:"ToggleGroup",components:{VuButton:V},props:{value:{type:Object},color:{type:String,default:"green"},unique:{type:Boolean,default:!1}},computed:{getOptions:function(){return Object.keys(this.value)}},methods:{hasValue:function(t){return this.value[t]||!1},toggle:function(t){var e=this;this.unique?(Object.keys(this.value).map((function(t){e.value[t]=!1})),this.value[t]=!0):this.value[t]=!this.value[t],this.$emit("input",this.value)}}}),vt=mt,gt=Object(u["a"])(vt,ht,pt,!1,null,"4e3f78a7",null),bt=gt.exports,Ct={name:"Menubar",inject:["$editor"],components:{ToggleGroup:bt,VuButton:V},computed:{getBlocks:function(){return o["default"].$vueuePlugins},isSorting:{get:function(){return this.$editor.states.isSorting},set:function(t){this.$editor.states.isSorting=t}},getTemplates:function(){var t=(new ft).getAll();return t||[]}},methods:{toggleGrid:function(){this.$editor.config.showGrid=!this.$editor.config.showGrid},deepCopy:function(t){var e=F(t);return e.id=H(),e},exportEditor:function(){this.$editor.exportHtml()},undoContent:function(){this.$editor.undo()},camelToSnakeCase:function(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))},initSorting:function(){var t=new dt(this,{sort:!1,group:{name:"content-render",pull:"clone",put:!1},setData:function(e,n){var i=n.getAttribute("data-block-index"),s=F(t.vue.getBlocks[i].contentDefault);s.id=H(),s.tag=t.vue.camelToSnakeCase(t.vue.getBlocks[i].name).substring(1),t.editor.states.dragBlock=s},onEnd:function(){t.editor.states.dragBlock=null,t.editor.refreshKey()}});t.init(this.$refs["sortable"])},initTemplateDraggable:function(){var t=new dt(this,{sort:!0,group:{name:"content-render",pull:"clone",put:!1},setData:function(e,n){var i=n.getAttribute("data-block-index"),s=t.vue.getTemplates[i];t.editor.states.dragBlock=G(s.value)},onEnd:function(){t.editor.states.dragBlock=null}});t.init(this.$refs["template"])},deleteTemplate:function(t){var e=this;this.$vueuvModal.show({color:"yellow",title:"템플릿 삭제",body:'"'+t.label+'" 을 삭제합니다.'}).then((function(){e.$editor.$refs["templateSaver"].deleteTemplate(t)}))},toggleGuide:function(){this.$editor.config.showGuide=!this.$editor.config.showGuide}},mounted:function(){this.initSorting(),this.initTemplateDraggable()},data:function(){return{showDocument:!1}}},yt=Ct,xt=Object(u["a"])(yt,at,rt,!1,null,"29fe46f5",null),wt=xt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{visible:t.isShowTemplate,title:"템플릿 등록"},on:{"update:visible":function(e){t.isShowTemplate=e},success:t.createTemplate}},[n("ul",{staticClass:"my-2"},[n("li",[t._v("+ 템플릿 이름을 입력하고 확인 버튼을 누르세요. 동일한 이름의 템플릿이 있다면 덮어집니다.")]),n("li",[t._v("+ 별도의 CSS 파일에 적용된 효과는 저장되지 않을 수 있습니다.")])]),n("div",{staticClass:"col-span-3 sm:col-span-2"},[n("label",{staticClass:"block text-sm font-medium text-gray-700"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.templateName,expression:"templateName"}],staticClass:"focus:outline-none border flex-1 block w-full rounded-none h-8 p-2 sm:text-sm border-gray-600",attrs:{type:"text"},domProps:{value:t.templateName},on:{input:function(e){e.target.composing||(t.templateName=e.target.value)}}})]),n("label",{staticClass:"flex items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isCopyCss,expression:"isCopyCss"}],staticClass:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",attrs:{id:"remember_me",type:"checkbox"},domProps:{checked:Array.isArray(t.isCopyCss)?t._i(t.isCopyCss,null)>-1:t.isCopyCss},on:{change:function(e){var n=t.isCopyCss,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);i.checked?a<0&&(t.isCopyCss=n.concat([o])):a>-1&&(t.isCopyCss=n.slice(0,a).concat(n.slice(a+1)))}else t.isCopyCss=s}}}),n("label",{staticClass:"ml-2 block text-sm text-gray-900",attrs:{for:"remember_me"}},[t._v(" CSS 전체를 복사 ")])])])])},kt=[],St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal",appear:""}},[t.visible?n("div",{staticClass:"fixed z-20 inset-0 overflow-y-auto opacity-100"},[n("div",{staticClass:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},[n("div",{staticClass:"fixed inset-0 transition-opacity"},[n("div",{staticClass:"absolute inset-0 bg-gray-800 opacity-75"})]),n("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen"},[t._v("​")]),n("div",{staticClass:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[n("div",{staticClass:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},[n("div",{staticClass:"sm:flex sm:items-start"},[n("div",{staticClass:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10",class:["bg-"+t.color+"-100"]},[n("svg",{staticClass:"h-6 w-6",class:["text-"+t.color+"-600"],attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}})])]),n("div",{staticClass:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[n("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900",attrs:{id:"modal-headline"}},[t._v(" "+t._s(t.title)+" ")]),n("div",{staticClass:"mt-2"},[n("p",{staticClass:"text-sm text-gray-800"},[t._t("default",[t._v(" "+t._s(t.body)+" ")])],2)])])])]),n("div",{staticClass:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[t._t("button",[n("button",{staticClass:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",class:["bg-"+t.color+"-600","hover:bg-"+t.color+"-700","focus:ring-"+t.color+"-500"],attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.exec(e)}}},[t._v(" "+t._s(t.yesButton)+" ")]),n("button",{staticClass:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.hide(e)}}},[t._v(" "+t._s(t.noButton)+" ")])])],2)])])]):t._e()])},jt=[],_t=n("262e"),Tt=n("2caf"),Ot=n("9ab4"),Et=n("2fe1"),Bt=o["default"].extend({name:"Modal",props:{color:{type:String,default:"green"},title:{type:String,default:"Title",required:!1},body:{type:String,default:"Body",required:!1},yesButton:{type:String,default:"Submit"},noButton:{type:String,default:"Cancel"},visible:{type:Boolean,default:!1,required:!1}}}),Mt=function(t){Object(_t["a"])(n,t);var e=Object(Tt["a"])(n);function n(){return Object(ct["a"])(this,n),e.apply(this,arguments)}return Object(lt["a"])(n,[{key:"exec",value:function(){this.$emit("success",!0),this.$emit("update:visible",!1)}},{key:"hide",value:function(){this.$emit("fail",!1),this.$emit("update:visible",!1)}}]),n}(Bt);Mt=Object(Ot["a"])([Et["a"]],Mt);var Pt,It,Rt,At,Nt=Mt,Vt=Nt,Ft=(n("9c67"),Object(u["a"])(Vt,St,jt,!1,null,"86eaf136",null)),Lt=Ft.exports,Ht={name:"TemplateSaver",inject:["$editor"],components:{Modal:Lt},data:function(){return{isShowTemplate:!1,templateName:null,isCopyCss:!1,store:null}},methods:{show:function(){this.isShowTemplate=!0},getContentModelByComputedCss:function(t){var e=this,n=U(t.getValue);return n.style=Object.assign(K(t.$el),n.style),n.contents&&n.contents.length&&(n.contents=t.$children.map((function(t){return!!t.isContentRender&&e.getContentModelByComputedCss(t)})).filter((function(t){return t}))),n},deleteTemplate:function(t){this.store.remove(t.label),this.$editor.refreshMenu()},createTemplate:function(){var t,e=this.$editor.states.focusedContent.component;t=this.isCopyCss?this.getContentModelByComputedCss(e):e.value,this.store.set(this.templateName,t),this.$editor.refreshMenu()}},mounted:function(){this.store=new ft}},Dt=Ht,Ut=Object(u["a"])(Dt,$t,kt,!1,null,null,null),Gt=Ut.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal",appear:""}},[t.visible?n("div",{staticClass:"fixed z-10 inset-0 overflow-y-auto opacity-100"},[n("div",{staticClass:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},[n("div",{staticClass:"fixed inset-0 transition-opacity"},[n("div",{staticClass:"absolute inset-0 bg-gray-800 opacity-75"})]),n("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen"},[t._v("​")]),n("transition",{attrs:{name:"modal-inner",appear:""}},[t.visible?n("div",{staticClass:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[n("div",{staticClass:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},[n("div",{staticClass:"sm:flex sm:items-start"},[n("div",{staticClass:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[n("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900",attrs:{id:"modal-headline"}},[t._v(" 사용법 안내 ")]),n("div",{staticClass:"mt-2"},[n("ul",{staticClass:"text-gray-800"},[n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Content")]),n("p",[t._v("드레그 앤 드롭으로 원하는 곳에 새로운 컨덴츠를 추가할 수 있습니다.")])],1),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Media")]),n("p",[t._v("에디터에 Media Query 를 적용합니다. Mobile 상태에서 하는 스타일 작업은 모두 media query 안에 적용되며, 모바일과 데스크톱 환경에서 서로 다른 스타일을 적용할 수 있습니다.")])],1),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Config")]),n("p",[t._v("작업을 돕기 위한 가이드나 그리드를 켜고 끌 수 있습니다.")])],1),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Action")]),n("p",[t._v("작업물을 Export 하거나 되돌립니다.")])],1),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Template")]),n("p",[t._v("선택한 컨덴츠를 사용자의 로컬 스토리지에 저장하고 재활용할 수 있습니다.")])],1)]),n("h4",{staticClass:"text-lg bold"},[t._v("Handler & Hot Key")]),n("ul",{staticClass:"flex flex-col"},[n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("div",{staticClass:"flex-shrink-0"},[n("tag",[t._v("mouse select")])],1),n("div",[t._v("클래스, 스타일, 레이아웃을 작업할 컨덴츠를 선택합니다. 선택된 컨덴츠는 삭제, 복제 또는 템플릿으로 저장(Keep) 할 수 있습니다.")])]),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("div",{staticClass:"flex-shrink-0"},[n("tag",[t._v("mouse double click")])],1),n("div",[t._v("컨덴츠를 수정모드로 변경하고 내용을 수정할 수 있게 합니다.")])]),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("div",{staticClass:"flex-shrink-0"},[n("tag",[t._v("cmd")]),t._v(" + "),n("tag",[t._v("z")])],1),n("div",[t._v("작업상황을 한단계 이전으로 되돌립니다.")])])])])])])]),n("div",{staticClass:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[t._t("button",[n("button",{staticClass:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.hide(e)}}},[t._v(" 닫기 ")])])],2)]):t._e()])],1)]):t._e()])},qt=[],zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getClass},[t._t("default")],2)},Qt=[],Jt={name:"Tag",props:{color:{type:String,default:"gray"}},computed:{getClass:function(){return"m-1 mt-0 p-1 rounded bg-".concat(this.color,"-400 text-white cursor-pointer hover:bg-").concat(this.color,"-300 shadow inline")}}},Wt=Jt,Zt=Object(u["a"])(Wt,zt,Qt,!1,null,"4d4da89c",null),Xt=Zt.exports,Yt={name:"Document",components:{Tag:Xt},props:{visible:{type:Boolean}},methods:{exec:function(){this.$emit("success",!0),this.$emit("update:visible",!1)},hide:function(){this.$emit("fail",!1),this.$emit("update:visible",!1)}}},te=Yt,ee=(n("987b"),Object(u["a"])(te,Kt,qt,!1,null,"105590fe",null)),ne=ee.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("iframe",{ref:"frame",staticClass:"border shadow p-2 mx-auto relative",style:t.getStyle,attrs:{width:t.frame.width,height:t.frame.height}})},se=[],oe=(n("498a"),{inject:["$editor"],name:"InnerFrame",props:{cleanStyle:{type:Boolean}},data:function(){return{renderComponent:null}},computed:{getFrame:function(){return this.$refs.frame.contentWindow},frame:function(){return this.$editor.frame},getStyle:function(){return{backgroundColor:this.frame.backgroundColor||"none",transition:"all ease-in-out 0.3s"}}},methods:{appendToBody:function(t){return this.appendToFrame(t,"body")},appendToHead:function(t){return this.appendToFrame(t,"head")},appendToFrame:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"head";"string"!==typeof t?this.getFrame.document[e].appendChild(t):this.getFrame.document[e].appendChild(this.htmlToElement(t))},scrapLinks:function(){return[].concat(Object(v["a"])(document.head.getElementsByTagName("link")),Object(v["a"])(document.body.getElementsByTagName("link")))},scrapStyles:function(){var t="";return Array.prototype.forEach.call(document.styleSheets,(function(e){e.href||Array.prototype.forEach.call(e.cssRules,(function(e){t+=e.cssText}))})),t},lunch:function(){var t=this;if(this.appendToHead('<meta name="viewport" content="width=device-width,initial-scale=1.0">'),!this.cleanStyle){var e=this.scrapStyles(),n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,this.appendToHead(n);var i=this.scrapLinks();i.map((function(e){var n=document.createElement("link");n.href=e.href||"",n.rel=e.rel||"",n.as=e.as||"",t.appendToHead(n)}))}this.appendToBody("<div id='render-frame' style='margin: 5px;'></div>");var s=this.$editor;this.renderComponent=new o["default"]({provide:function(){return{$editor:s}},render:function(t){var e=s.config.editable?"content-render":"content-exporter";return t("div",{},[t(e,{props:{value:s.contentModel}}),t("content-style")])}}).$mount(this.$el.contentWindow.document.getElementById("render-frame"))},htmlToElement:function(t){var e=document.createElement("template");return t=t.trim(),e.innerHTML=t,e.content.firstChild}},mounted:function(){this.lunch()}}),ae=oe,re=Object(u["a"])(ae,ie,se,!1,null,null,null),ce=re.exports,le={name:"VueuvEditor",components:{InnerFrame:ce,Document:ne,TemplateSaver:Gt,Menubar:wt,Helper:ot},plugins:[],props:{html:{type:String},css:{type:String},target:{type:[String,Object]},undoStep:{type:[Number,String],default:10}},watch:{media:{deep:!0,handler:function(t){t.mobile&&(this.frame.width="480px"),t.desktop&&(this.frame.width="100%"),t.tablet&&(this.frame.width="1080px")}}},data:function(){return{transit:!1,frame:{width:"100%",height:"900px"},media:{mobile:!1,tablet:!1,desktop:!0},config:{editable:!0,showGrid:!0,showGuide:!0},states:{selectedContent:null,focusedContent:null,editingContent:null,isSorting:!1,dragBlock:null},contentModel:{id:"vueuv-content-root",isRootContent:!0,contents:[]},logs:[],keys:{ctrl:!1,alt:!1},renderKey:"default",menubarKey:"menubar",showDocument:!1}},provide:function(){return{$editor:this}},computed:{getCurrentMedia:function(){return this.media.mobile?"mobile":this.media.tablet?"tablet":"desktop"},getRootRender:function(){return this.$refs.render},mediaQuery:function(){return{mobile:"@media screen and (max-width: 480px)",tablet:"@media screen and (max-width: 1080px)",desktop:"#"}},isEditable:function(){return this.config.editable},hasEditingContent:function(){return!!this.states.editingContent},getEditorClass:function(){return{"fade-in-out-leave-active":this.transit}},getRenderSectionStyle:function(){var t={transition:"all 0.3s ease-in-out"};return this.media.desktop&&(t["width"]="100%",t["margin-left"]="auto",t["margin-right"]="auto"),this.media.mobile&&(t["width"]="480px",t["margin-left"]="auto",t["margin-right"]="auto"),this.media.tablet&&(t["width"]="1020px",t["margin-left"]="auto",t["margin-right"]="auto"),t}},methods:{hasDragBlock:function(){return!!this.states.dragBlock},refreshMenu:function(){this.menubarKey=H()},refreshKey:function(){this.$nextTick((function(){}))},undo:function(){if(this.logs.length){var t=this.logs.pop();t(),this.refreshKey()}},setRollBackPoint:function(){var t=this,e=F(this.contentModel);this.logs.push((function(){t.contentModel=e}))},saveLog:function(){this.logs.length>=this.undoStep&&this.logs.splice(0,1),this.logs.push(JSON.stringify(this.contentModel))},updateContentById:function(t,e){this.getContentRenderById(t)},getContentValueById:function(t){var e=this.getContentRenderById(t,this.getRootRender);return e.value||{}},getContentRenderById:function(t,e){if(e&&"object"===Object(b["a"])(e)){if(e.contentId===t)return e;for(var n,i=0;i<e.$children.length;i++)if(n=this.getContentRenderById(t,e.$children[i]),n)return n}else console.warn("this is not vue component")},exportHtml:function(){var t=this;this.config.editable=!1,this.$nextTick((function(){var e=parseInt(t.frame.width);"100%"===t.frame.width&&(e=window.innerWidth);var n=window.open("","export","width=".concat(e,",height=800px")),i=t.$refs.exporter.$el.contentWindow.document;n.document.head.innerHTML=i.head.innerHTML,n.document.body.innerHTML=i.body.innerHTML}))},showRawCode:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.config.mode="export",n={html:"",css:""},e.next=4,t.$nextTick((function(){n.html=t.getHtml(),n.css=t.getCSS()}));case 4:t.$emit("input",n.html+'<style type="text/css">'.concat(n.css,"</style>"));case 5:case"end":return e.stop()}}),e)})))()},getHtml:function(){var t=this.$refs.frame;return t.$el.outerHTML},getCSS:function(){var t=this.$refs["style"];return t.$el.innerText},parseNode:function(t){switch(t.nodeType){case 3:return this.parseTextElement(t);default:return this.parseElement(t)}},parseTextElement:function(t){return{tag:"inner-text",id:H(),class:[],props:{value:t.textContent}}},parseElement:function(t){var e=Object.fromEntries(Array.from(t.attributes,(function(t){var e=t.name,n=t.value;return[e,n]}))),n=e.id||H(),i=Object(v["a"])(t.classList),s=t.tagName.toLowerCase(),o={tag:s,id:n,class:i,style:{},cssText:null,attrs:e,props:e};return t.childNodes&&(o.contents=Array.from(t.childNodes,this.parseNode)),o},convertValueProp:function(t){var e=new DOMParser,n=e.parseFromString(t,"text/html"),i=n.getElementsByTagName("body"),s=this.parseNode(i[0]);this.$set.apply(this,[this.contentModel.contents,0].concat(Object(v["a"])(s.contents)))},handleRenderInput:function(t){this.contentModel=t},setDefaultSelect:function(){this.states.selectedContent=null}},mounted:function(){var t=this;if(this.target){var e=document.getElementById(this.target);this.convertValueProp(e.outerHTML),e.style.display="none"}document.addEventListener("keydown",(function(e){e.metaKey&&"z"===e.key&&t.undo()}))},destroyed:function(){}},ue=le,de=(n("28fa"),Object(u["a"])(ue,p,m,!1,null,"1b1062d6",null)),fe=de.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{contentEditable:t.isEdited},domProps:{innerHTML:t._s(t.value)}})},pe=[],me={name:"InnerText",label:"기본텍스트",contentDefault:null,props:{value:{type:String}},data:function(){return{isEdited:!1}},methods:{enableEdit:function(){this.isEdited=!0},disableEdit:function(){var t=this.$el.innerHTML;this.$emit("update:value",t),this.isEdited=!1}}},ve=me,ge=Object(u["a"])(ve,he,pe,!1,null,"5c5a04ee",null),be=ge.exports,Ce={name:"ContentExporter",props:{value:{type:[Object,String],required:!0}},render:function(t){var e=this,n=e.value;if("string"===typeof n)return e._v(n);var i=n.contents||[],s=i.map((function(e,n){return t("content-exporter",{props:{value:e},key:e.id})}));return t(n.tag||"div",{class:n.class||[],attrs:Object.assign({},e.$attrs,n.attrs||{},{id:n.id}),props:n.props||{}},s)}},ye=Ce,xe=Object(u["a"])(ye,Pt,It,!1,null,null,null),we=xe.exports,$e=(n("a15b"),n("38cf"),n("3835")),ke={name:"ContentRender",render:function(t){var e=this,n=this.value;if(n){var i={dblclick:this.activeContent,click:this.focusContent,mouseover:this.selectContent,"update:content":this.changingUpdate},s=n.props||{},o=Object.keys(s),a={};o.length&&(a=this.getPropsEvents(o));var r=n.contents||[],c=r.map((function(n){return"string"===typeof n?n:e.createChild(t,n)})),l=n.tag||"div";"img"===n.tag&&(l="basic-image");var u={id:this.getUid,"data-id":this.getUid,"data-title":this.getTag},d=Object.assign(a,i,{"update:content":this.updateContents}),f=Object.assign(n.attrs||{},u),h={class:[].concat(Object(v["a"])(n.class||[]),Object(v["a"])(this.selectorClass())),attrs:f,props:s,on:d,ref:"content",key:n.id};return t(l,h,c)}},inject:["$editor"],props:{value:{type:[Object,String],required:!0},parent:{type:Object}},data:function(){return{uid:null,isEdited:!1,isLabelBottom:!1,isGuided:!1,sortable:null}},computed:{isContentRender:function(){return!0},getValue:function(){return this.value},getState:function(){return this.$editor.states},selectedContent:{get:function(){return this.getState.selectedContent},set:function(t){if(this.isSorting)return!1;this.getState.selectedContent=t}},focusedContent:{get:function(){return this.getState.focusedContent},set:function(t){if(this.isSorting)return!1;this.getState.focusedContent=t}},isSorting:{get:function(){return this.getState.isSorting},set:function(t){this.getState.isSorting=t}},editingContent:{get:function(){return this.getState.editingContent||null},set:function(t){this.getState.editingContent=t}},selectedElement:{get:function(){return this.getState.selectedElement},set:function(t){this.getState.selectedElement=t}},contentStyleObject:{get:function(){var t="#"+this.value.id;if(this.$editor.media.mobile&&(t=this.$editor.mediaQuery.mobile),this.$editor.media.tablet&&(t=this.$editor.mediaQuery.tablet),this.value.cssObject)return this.value.cssObject[this.$editor.getCurrentMedia];this.$set(this.value,"cssObject",{desktop:{},tablet:{},mobile:{}});var e=this.getCssTextToObject;return e[t]||{}},set:function(t){this.setCssObject(t),this.updateContentValue(this.value)}},getCssTextToObject:function(){return et()(this.value.cssText||{},{camelCase:!1,numbers:!1})},getClass:function(){return[].concat(Object(v["a"])(this.value.class||[]),Object(v["a"])(this.selectorClass()))},getTag:function(){return this.value.tag||"div"},contentId:function(){return this.value.id},isSelectedContent:function(){return this.selectedContent&&this.selectedContent.id===this.contentId},isFocusedContent:function(){return!!this.focusedContent&&this.focusedContent.component===this},isEditing:function(){return!!this.editingContent&&(this.editingContent&&this.editingContent.component===this)},getUid:function(){return this.value.id},isStringType:function(){return"string"===typeof this.value},getAttrs:function(){return Object.assign(this.value.attrs||{},this.value.props||{})},getIndexFromParent:function(){return this.parent?this.parent.value.contents.map((function(t){return t.id})).indexOf(this.value.id):null},getCssObjectByMedia:function(){if(!this.value)return{};if(!this.value.cssObject)return this.$set(this.value,"cssObject",{}),this.value.cssObject;if(this.$editor.media.desktop)return this.value.cssObject["#"+this.value.id]||{};var t="";return this.$editor.media.mobile?(t=this.$editor.mediaQuery.mobile,this.value.cssObject[t]?this.value.cssObject[t]["#"+this.value.id]:{}):this.$editor.media.tablet?(t=this.$editor.mediaQuery.tablet,this.value.cssObject[t]?this.value.cssObject[t]["#"+this.value.id]:{}):{}}},methods:{attributeToCss:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object.entries(t).map((function(t){var i=Object($e["a"])(t,2),s=i[0],o=i[1],a="  ".repeat(n);if("object"===Object(b["a"])(o)){var r=e.attributeToCss(o,n+1);return"".concat(a).concat(s," {\n  ").concat(r,"\n  }\n")}return"".concat(a).concat(s,": ").concat(o,";\n")}))},setCssObject:function(t){this.value.id;var e=this.$editor.getCurrentMedia,n={};this.value.cssObject[e]=Object.assign({},U(this.value.cssObject[e]),t),this.$set(this.value,"cssObject",Object.assign({},this.value.cssObject,n)),this.$emit("update:content",U(this.value))},objectToCss:function(){var t=this;if(!this.value.cssObject)return"";var e=Object.entries(this.value.cssObject).map((function(e){var n=Object($e["a"])(e,2),i=n[0],s=n[1];return s?[i+"{\n",t.attributeToCss(s),"}\n"]:""}));return e.join("").replace(/,/gi,"")},getPropsEvents:function(t){var e=this;return Object.fromEntries(t.map((function(t){return["update:"+t,function(n){e.$editor.setRollBackPoint(),e.$set(e.value.props,t,n)}]})))},refreshValue:function(){this.$emit("update:content",U(this.value))},changingUpdate:function(){this.$emit("update:content",U(this.value)),this.parent&&this.parent.changingUpdate()},updateContentValue:function(t){this.$emit("update:content",U(t))},createChild:function(t,e){return t("content-render",{props:{value:e,parent:this},key:e.id})},selectorClass:function(){var t=[];return this.isEditing&&this.$editor.config.showGuide&&t.push("is-editable"),(this.isSelectedContent||this.isFocusedContent)&&this.$editor.config.showGuide&&t.push("is-selected"),this.isLabelBottom&&t.push("label-bottom"),(this.$editor.config.showGrid||this.$editor.states.isSorting)&&t.push("show-guide"),t},setUid:function(){this.isStringType||this.value.id||this.$set(this.value,"id",this.createUid())},deleteContent:function(){var t=this;if(!this.parent)return console.warn("Root cannot be removed"),!1;this.parent.value.contents=this.parent.value.contents.filter((function(e){return e.id!==t.value.id})),this.focusedContent=null,this.editingContent=null,this.selectedContent=null,this.parent.refreshValue()},getDataIdFrom:function(t){return t.target.getAttribute("data-id")},getParentContentRender:function(t){var e=t.parentNode;return e?e!==this.$el?this.getParentContentRender(e):this.$el:null},selectContent:function(t){var e=this;if(!this.focusedContent){if(!t.target!==this.$el){var n=this.getParentContentRender(t.target);if(n)return this.selectedContent={id:this.contentId,component:this},void t.stopPropagation()}if(this.getState.isSorting)return!1;this.selectedContent={id:this.contentId,component:this},this.$nextTick((function(){e.labelStyle()})),t.stopPropagation()}},focusContent:function(t){if(this.editingContent&&!this.isEditing&&(this.focusedContent=null,this.selectedContent=null,this.unsetEditingContent()),this.focusedContent&&this.focusedContent.id===this.contentId)this.focusedContent=null,this.selectedContent=null;else{if(t.target!==this.$el){var e=this.getParentContentRender(t.target);if(e)return this.focusedContent={id:this.contentId,component:this},void t.stopPropagation()}this.focusedContent={id:this.getDataIdFrom(t),component:this},this.selectedContent=null}t.stopPropagation()},activeContent:function(t){if(this.isEditing)return this.unsetEditingContent(),void t.stopPropagation();this.setEditingContentAsThis(),t.stopPropagation()},setEditingContentAsThis:function(){this.focusedContent={id:this.contentId,component:this},this.setEditingContent()},unsetEditingContent:function(){var t=this.editingContent.component;t.$refs["content"]&&t.$refs["content"].disableEdit?t.$refs["content"].disableEdit(this):this.isEdited=!1,this.getState.editingContent=null},setEditingContent:function(){this.selectedContent=null,this.editingContent=null,this.getState.editingContent={id:this.getUid,component:this},this.$refs["content"]&&this.$refs["content"].enableEdit?this.$refs["content"].enableEdit():this.isEdited=!0},setFocusedContent:function(){this.selectedContent=null,this.editingContent=null,this.getState.focusedContent={id:this.getUid,component:this}},createUid:function(){return H()},labelStyle:function(){var t=this.$el.getBoundingClientRect();this.isLabelBottom=t.y<20},updateContents:function(t){this.updateContentValue(t)},move:function(t,e,n){var i=t[e];this.$delete(t,e),t.splice(n,0,i)},initSorting:function(){(this.value.contents||"div"===this.value.tag)&&(this.sortable=new dt(this),this.sortable.init())}},created:function(){this.setUid()},mounted:function(){this.initSorting()}},Se=ke,je=(n("4a20"),Object(u["a"])(Se,Rt,At,!1,null,null,null)),_e=je.exports,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("style",{tag:"component",attrs:{type:"text/css"}},[t._v(" "+t._s(t.parseContentStyles)+" "+t._s(t.responsibleStyles)+" ")])},Oe=[],Ee=n("991b"),Be={name:"ContentStyle",inject:["$editor"],computed:{responsibleStyles:function(){if(!this.$editor.config.editable)return"/** non-editable **/\n";var t=this.getCssByMedia(this.$editor.contentModel.contents,"desktop");return"tablet"===this.$editor.getCurrentMedia&&t.push(this.getCssByMedia(this.$editor.contentModel.contents,"tablet")),"mobile"===this.$editor.getCurrentMedia&&t.push(this.getCssByMedia(this.$editor.contentModel.contents,"mobile")),[Ee(t).filter((function(t){return t}))].join("\n").replace(",","")},parseContentStyles:function(){if(this.$editor.config.editable)return"/** editable **/";var t=this.cssObjectToCssText(this.$editor.contentModel.contents),e=Ee(t).filter((function(t){return t}));return[this.$editor.contentModel.cssText||null].concat(Object(v["a"])(e)).join("\n")}},methods:{getCssText:function(t){var e=this;return t.map((function(t){return t.contents&&t.contents.length?[t.cssText].concat(Object(v["a"])(e.getCssText(t.contents))):t.cssText||null}))},getCssByMedia:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desktop";return t.map((function(t){return t.contents&&t.contents.length?[t.cssObject[n]?e.attributeToCss(Object(x["a"])({},"#"+t.id,t.cssObject[n])):null].concat(Object(v["a"])(e.getCssByMedia(t.contents,n))):t.cssObject[n]?e.attributeToCss(Object(x["a"])({},"#"+t.id,t.cssObject[n])):null}))},attributeToCss:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="  ".repeat(n);return Object.keys(t).map((function(s){var o=t[s];if("object"===Object(b["a"])(o)){var a=e.attributeToCss(o,n+1);return"".concat(i).concat(s," {\n  ").concat(a,"\n  }\n")}return"".concat(i).concat(s,": ").concat(o,";\n")})).join("\n").replace(",","")},cssObjectToCssText:function(t){var e=this;return t.map((function(t){return t.cssObject?Object.keys(t.cssObject).map((function(n){var i=t.cssObject[n];if(!i)return null;if("desktop"===n)return e.attributeToCss(Object(x["a"])({},"#"+t.id,i));var s=e.$editor.mediaQuery[n];return[s+"{\n",e.attributeToCss(Object(x["a"])({},"#"+t.id,i)),"}\n"]})):null}))}}},Me=Be,Pe=Object(u["a"])(Me,Te,Oe,!1,null,null,null),Ie=Pe.exports,Re=function(){function t(){Object(ct["a"])(this,t),this.Component=o["default"].extend(Lt),this.options={}}return Object(lt["a"])(t,[{key:"show",value:function(t){return this.options=Object.assign(t,{visible:!0}),this.render()}},{key:"render",value:function(){var t=this;return new Promise((function(e,n){t.instance=new t.Component({propsData:t.options}),t.instance.$on("update:visible",(function(e){t.instance.visible=!1})),t.instance.$on("success",(function(n){e(!0),setTimeout((function(){t.instance.$destroy()}),1e3)})),t.instance.$on("fail",(function(e){n(!1),setTimeout((function(){t.instance.$destroy()}),1e3)})),t.instance.$mount(),document.body.appendChild(t.instance.$el)}))}}]),t}(),Ae={install:function(t,e){e.plugins.length>0&&(e.plugins.map((function(e){e.methods&&e.methods.enableEdit&&e.methods.disableEdit?e.name?t.component(e.name,e):console.warn("No name component. It cannot be registered."):console.warn(e.name+" cannot be registered. Vueuv Plugin must have [enableEdit, disableEdit] methods.")})),t.$vueuePlugins=e.plugins,t.prototype.$vueuvModal=new Re),t.component(be.name,be),t.component(_e.name,_e),t.component(fe.name,fe),t.component(Ie.name,Ie),t.component(we.name,we),t.component(ot.name,ot),t.directive("vueuv-content",{bind:function(t,e,n){var i=n.context.$listeners;["click","dblclick","mouseover"].map((function(n){e.value&&e.value[n]?t.addEventListener(n,e.value[n]):i[n]&&t.addEventListener(n,i[n])}))}})}},Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{id:t.getEditorId},domProps:{innerHTML:t._s(t.value)}})},Ve=[],Fe=n("e562"),Le=n.n(Fe);n("ec27"),n("0d68"),n("840a"),n("0a9d"),n("bc54"),n("fbbd"),n("62e5"),n("2fec"),n("ffbe"),n("6957f"),n("855b"),n("64d8"),n("0efa"),n("365e"),n("3154"),n("4ea8"),n("4237"),n("3aea"),n("0335"),n("07d7"),n("07d1"),n("c3d7"),n("2b07"),n("ebac"),n("eda9"),n("d2dc"),n("ef37"),n("4bd0"),n("0902"),n("84ec"),n("9434"),n("8863"),n("78e4"),n("cfb0"),n("0aa0"),n("90e7"),n("7193");n("0342");var He={name:"TextContent",label:"문단",contentDefault:{style:{padding:"1rem"},props:{value:"New paragraph"}},props:{value:{type:String}},data:function(){return{editor:null,contentId:null}},methods:{enableEdit:function(){this.loadEditor()},disableEdit:function(){this.editor&&(this.$emit("update:value",this.editor.getContent()),this.editor.hide())},loadEditor:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.editor){e.next=3;break}return t.editor.show(),e.abrupt("return");case 3:return n=t.$el.getAttribute("id"),e.next=6,Le.a.init({selector:"#"+n,menubar:!1,inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],font_formats:"Noto Sans KR=Noto Sans KR,sans-serif;",toolbar:"undo redo | fontselect fontsizeselect formatselect | bold italic backcolor | forecolor backcolor casechange permanentpen formatpainter removeformat | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | help",inline_styles:!0});case 6:i=e.sent,t.editor=i[0];case 8:case"end":return e.stop()}}),e)})))()}},computed:{getEditorId:function(){return this.value.id||this._uid}}},De=He,Ue=Object(u["a"])(De,Ne,Ve,!1,null,"485502bd",null),Ge=Ue.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isEdited?n("div",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content.stop",value:{dblclick:function(t){t.stopPropagation()}},expression:"{dblclick:(e)=>{ e.stopPropagation(); }}",modifiers:{stop:!0}}],staticClass:"relative"},[n("img",{attrs:{alt:t.alt,src:t.src}}),n("div",{staticClass:"absolute",staticStyle:{height:"80px","z-index":"100",background:"rgba(0,0,0, .5)"},style:t.getEditorStyle},[n("div",{staticClass:"flex justify-center items-center h-full p-2"},[n("input",{staticClass:"w-full",attrs:{id:"src"},domProps:{value:t.src},on:{change:function(e){t.$emit("update:src",e.target.value)}}}),n("vu-button",{on:{click:function(e){return e.stopPropagation(),t.disableEdit(e)}}},[t._v(" Save")])],1)])]):n("img",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{alt:t.alt,src:t.src}})},qe=[],ze={name:"BasicImage",label:"이미지",components:{VuButton:V},contentDefault:{class:["p-2"],props:{src:"https://via.placeholder.com/150",alt:"Image"}},props:{alt:String,src:String},data:function(){return{isEdited:!1}},methods:{enableEdit:function(){this.isEdited=!0},disableEdit:function(){this.isEdited=!1}},computed:{getEditorStyle:function(){return{width:this.$el.clientWidth+"px"}}}},Qe=ze,Je=Object(u["a"])(Qe,Ke,qe,!1,null,"41aa9c51",null),We=Je.exports;n("ba8c"),n("8f2f");o["default"].use(h["a"]),o["default"].use(Ae,{plugins:[Ge,We]}),o["default"].config.productionTip=!1;var Ze=new o["default"]({render:function(t){return t(f)}}).$mount("#app");e["default"]=Ze},d0ea:function(t,e,n){},d528:function(t,e,n){"use strict";n("269d")}});
//# sourceMappingURL=app.06429d9d.js.map