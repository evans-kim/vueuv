(function(t){function e(e){for(var i,a,r=e[0],l=e[1],u=e[2],d=0,f=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==s[l]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/vueuv/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0e2e":function(t,e,n){},1501:function(t,e,n){},2283:function(t,e,n){"use strict";n("5d9a")},"23f4":function(t,e,n){},"319a":function(t,e,n){},3348:function(t,e,n){},4384:function(t,e,n){},"4a20":function(t,e,n){"use strict";n("4384")},"4a5c":function(t,e,n){"use strict";n("d18d")},"5d9a":function(t,e,n){},"7ef0":function(t,e,n){},"7f31":function(t,e,n){"use strict";n("818f")},"818f":function(t,e,n){},"8f2f":function(t,e,n){},"987b":function(t,e,n){"use strict";n("c870")},b68c:function(t,e,n){"use strict";n("bb0a")},b72d:function(t,e,n){"use strict";n("23f4")},ba8c:function(t,e,n){},bb0a:function(t,e,n){},c260:function(t,e,n){"use strict";n("7ef0")},c668:function(t,e,n){"use strict";n("0e2e")},c870:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,s,o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative bg-gray-100 min-h-screen",attrs:{id:"app"}},[n("vueuv-editor")],1)},r=[],l={name:"VuePageBuilder",data:function(){return{html:null}}},u=l,c=n("2877"),d=Object(c["a"])(u,a,r,!1,null,null,null),f=d.exports,h=n("a6f4"),p=(n("d81d"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getEditorClass,staticStyle:{position:"relative"},on:{click:function(e){return e.stopPropagation(),t.setDefaultSelect(e)}}},[n("menubar",{key:t.menubarKey}),n("div",{ref:"responseFrame",style:t.getRenderSectionStyle},[t.isEditable?n("content-render",{ref:"render",attrs:{value:t.contentModel},on:{"update:content":t.handleRenderInput}}):n("inner-frame",{ref:"exporter"})],1),t.isEditable?[n("template-saver",{ref:"templateSaver"}),n("helper",{ref:"helper"})]:t._e(),n("content-style"),n("div",{staticClass:"whitespace-pre"},[t._v(" "+t._s(t.contentModel)+" ")]),n("document",{attrs:{visible:t.showDocument},on:{"update:visible":function(e){t.showDocument=e}}})],2)}),v=[],m=(n("99af"),n("a630"),n("a434"),n("a9e3"),n("c1f9"),n("3ca3"),n("2909")),g=(n("96cf"),n("1da1")),b=n("53ca"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLayoutComponent?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditing,expression:"!isEditing"}],style:t.getStyle},[n("div",{staticClass:"m-2"},[n("div",{staticClass:"flex"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.getStyle.opacity,expression:"getStyle.opacity"}],attrs:{type:"range",min:"0.1",max:"1",step:"0.01"},domProps:{value:t.getStyle.opacity},on:{__r:function(e){return t.$set(t.getStyle,"opacity",e.target.value)}}})])]),n("div",{staticClass:"flex justify-between mb-1"},[n("div",[n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("class"),on:{click:function(e){t.activeTab="class"}}},[t._v("Class ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("style"),on:{click:function(e){t.activeTab="style"}}},[t._v("Style ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("controller"),on:{click:function(e){t.activeTab="controller"}}},[t._v("Layout ")])]),n("div",[n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.addContents(e)}}},[t._v("Add ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.deleteContents(e)}}},[t._v("Remove ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.copy(e)}}},[t._v(" Copy ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.keepAsTemplate(e)}}},[t._v(" Keep ")])])]),n("div",{staticClass:"panel-body p-2 bg-white shadow rounded",staticStyle:{"max-width":"40rem"}},["class"===t.activeTab?n("div",[n("class-tag-input",{attrs:{value:t.getTargetClasses},on:{input:t.classHandler}})],1):t._e(),"style"===t.activeTab?n("div",[n("div",{staticStyle:{"min-width":"10rem"}},[t._v(" 클래스 : "),t._l(t.getTargetClasses,(function(e,i){return n("vu-button",{key:i,on:{click:function(n){return n.stopPropagation(),t.addClassToCssText(e)}}},[t._v(t._s(e)+" ")])})),t._v(" ID : "),n("vu-button",{on:{click:function(e){return e.stopPropagation(),t.addIdSelectorToCssText(e)}}},[t._v("#"+t._s(t.focusedContent.value.id))])],2),n("code-editor",{model:{value:t.getTargetStyleText,callback:function(e){t.getTargetStyleText=e},expression:"getTargetStyleText"}})],1):t._e(),"controller"===t.activeTab?n("div",[n("style-controller",{attrs:{value:t.focusedContent.cssObject},on:{input:function(e){t.updateFocusedValue(e,"cssObject")}}}),t._l(Object.keys(t.control),(function(e,i){return n("div",{key:"control"+i+t.$editor.renderKey},[n("h4",{staticClass:"text-lg bold py-1"},[t._v(t._s(e))]),t._l(t.control[e],(function(i,s){return n("vu-button",{key:"btn"+s,attrs:{color:t.hasStyle(e,t.control[e][s])},on:{click:function(n){return t.setStyle(e,t.control[e][s])}}},[t._v(" "+t._s(i)+" ")])}))],2)}))],2):t._e()]),n("div",{ref:"structure",staticClass:"p-1 border shadow mt-2 bg-white",staticStyle:{"max-height":"300px","overflow-y":"auto"}},[n("content-tree",{model:{value:t.$editor.contentModel.contents,callback:function(e){t.$set(t.$editor.contentModel,"contents",e)},expression:"$editor.contentModel.contents"}})],1)])]):t._e()},C=[],x=(n("c975"),n("ade3")),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-input-wrapper bg-white p-2 border shadow flex justify-start flex-wrap",on:{click:function(e){return e.stopPropagation(),t.focusInput(e)}}},[t._l(t.value,(function(e,i){return n("span",{key:i,staticClass:"m-1 mt-0 p-1 border rounded bg-gray-200 cursor-pointer hover:bg-gray-300 shadow",on:{click:function(e){return e.stopPropagation(),t.removeItem(i)}}},[t._v(" "+t._s(e)+" ")])})),n("input",{directives:[{name:"model",rawName:"v-model",value:t.temp,expression:"temp"}],ref:"input",staticClass:"tag-input-input",attrs:{type:"text"},domProps:{value:t.temp},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputHandler(e)},input:function(e){e.target.composing||(t.temp=e.target.value)}}}),t.temp&&t.autoComplete?n("div",{staticClass:"relative h-0"},[n("ul",{staticClass:"absolute bg-white border shadow p-2 relative",staticStyle:{top:"10px","max-height":"400px","overflow-y":"auto"}},t._l(t.getFiltered,(function(e,i){return n("li",{key:i},[t._v(" "+t._s(e)+" ")])})),0)]):t._e()],2)},$=[],k=(n("4de4"),n("4d63"),n("ac1f"),n("25f0"),n("eed6")),_={name:"ClassTagInput",data:function(){return{temp:null}},props:{value:{type:Array},autoComplete:{type:Boolean,default:!1}},computed:{getFiltered:function(){var t=new RegExp(this.temp);return this.getAllClasses.filter((function(e){return t.test(e)}))},getAllClasses:function(){if(!this.autoComplete)return[];for(var t=[],e=document.styleSheets,n=0;n<e.length;n++)for(var i=document.styleSheets[n].cssRules,s=0;s<i.length;s++)t.push(i[s].selectorText);return k(t)}},methods:{inputHandler:function(t){this.$emit("input",k([].concat(Object(m["a"])(this.value),[this.temp]).filter((function(t){return t})))),this.temp=""},removeItem:function(t){this.value.splice(t,1)},focusInput:function(t){this.$refs["input"].focus()}}},j=_,S=(n("2283"),Object(c["a"])(j,w,$,!1,null,"0f514cb0",null)),O=S.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{staticClass:"my-editor w-full",attrs:{rows:"10"},domProps:{value:t.value},on:{change:t.handleInput}})},T=[],P={name:"CodeEditor",props:{value:{type:String}},methods:{handleInput:function(t){var e=t.target.value;this.$emit("input",e)}}},B=P,M=(n("b68c"),Object(c["a"])(B,E,T,!1,null,null,null)),I=M.exports,F={name:"VuButton",functional:!0,render:function(t,e){var n=e.data;return n.class=["p-1","shadow","border","inline-block","focus:outline-none"],n.attrs&&n.attrs.color?(n.class.push("bg-".concat(n.attrs.color,"-600")),n.class.push("text-white")):n.class.push("bg-white"),t("button",n,e.children)}},R=F,V=Object(c["a"])(R,i,s,!1,null,null,null),L=V.exports,H=(n("4160"),n("4fad"),n("d3b7"),n("5319"),n("159b"),n("3835")),A=n("0644"),D=n.n(A);function N(){return Math.random().toString(36).substr(2,6)}function W(t){"object"===Object(b["a"])(t)&&Object.entries(t).map((function(e){var n=Object(H["a"])(e,2),i=n[0],s=n[1];"object"===Object(b["a"])(s)?W(s):o["default"].set(t,i,s)}))}function U(t){if("string"!==typeof t){var e=t.id;if(t.id=N(),t.class||(t.class=[]),t.cssObject||(t.cssObject={desktop:{},tablet:{},mobile:{}}),t.cssText&&e){var n=new RegExp(e,"ig");t.cssText=t.cssText.replace(n,t.id)}else t.cssText="";W(t),t.contents&&t.contents.length&&t.contents.map((function(t){U(t)}))}}function K(t){return D()(t)}function G(t){var e=D()(t);return U(e),e}function q(t){var e=window.getComputedStyle(t),n=document.createElement(t.tagName);document.body.insertAdjacentElement("afterbegin",n);var i=window.getComputedStyle(n),s={},o=/webkit.*/;return Object.entries(e).forEach((function(t){o.test(t)||i[t[0]]!==t[1]&&(s[t[0]]=t[1])})),n.remove(),s}var z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasContents(t.value)?n("draggable",{attrs:{tag:"ul",group:"content-tree","ghost-class":"ghost",animation:"300",value:t.value},on:{input:t.handleValue}},t._l(t.value,(function(e,i){return n("li",{key:i,staticClass:"pl-3"},[e&&"string"===typeof e?n("div",{staticClass:"node",class:{"selected-tag":t.isFocused(e)}},[n("span",{staticClass:"node-handler p-2",on:{click:function(n){return n.stopPropagation(),t.setSelectedContentById(e)},dblclick:function(n){return n.stopPropagation(),t.setEditingContentById(e)}}},[t._v(" :: ")]),t._v(" "+t._s(e)+" ")]):t._e(),e&&e.id?n("div",{staticClass:"node",class:{"selected-tag":t.isFocused(e.id)},style:t.getStyle(e)},[n("span",{staticClass:"node-handler p-2",on:{click:function(n){return n.stopPropagation(),t.setSelectedContentById(e)},dblclick:function(n){return n.stopPropagation(),t.setEditingContentById(e.id)}}},[t._v(" :: ")]),t._v(" "+t._s(e.tag)+"#"+t._s(e.id)+" "),t.hasChildren(e)?n("span",{staticClass:"toggle",on:{click:function(){t.isOpen=!t.isOpen}}},[t._v(" "+t._s(t.isOpen?"-":"+")+" ")]):t._e()]):t._e(),n("content-tree",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],model:{value:e.contents,callback:function(n){t.$set(e,"contents",n)},expression:"com.contents"}})],1)})),0):t._e()},J=[],Q=n("b76a"),Z=n.n(Q),X={name:"ContentTree",components:{draggable:Z.a},inject:["$editor"],data:function(){return{isOpen:!0}},props:{value:{type:Array,default:function(){return[]}}},computed:{getStates:function(){return this.$editor.states}},methods:{isFocused:function(t){return this.getStates.focusedContent&&this.getStates.focusedContent.id===t},isSelected:function(t){return this.getStates.selectedContent&&this.getStates.selectedContent===t},hasContents:function(t){return t&&Array.isArray(t)},getStyle:function(t){var e={};return this.isFocused(t.id)&&(e.background="green",e.color="white"),this.isSelected(t.id)&&(e.background="green",e.color="white"),e},setSelectedContentById:function(t){if(t){if("string"===typeof t){var e=this.$editor.getContentRenderHas(t);if(!e)return void console.warn("Not found Content render : "+t);t=e.id}var n=t;"object"===Object(b["a"])(t)&&(n=t.id);var i=this.$editor.getContentRenderById(n,this.$editor.$refs.render);i.setFocusedContent()}},setEditingContentById:function(t){if(t){var e=this.$editor.getContentRenderById(t,this.$editor.$refs.render);e.setEditingContent()}},hasChildren:function(t){return t.contents&&t.contents.length},handleValue:function(t){this.$editor.setRollBackPoint(),this.$emit("input",t)}}},Y=X,tt=(n("eda6"),Object(c["a"])(Y,z,J,!1,null,"7a25cd4f",null)),et=tt.exports,nt=n("b324"),it=n.n(nt),st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"min-width":"10rem"}},[t._v(" 클래스 : "),t._l(t.getTargetClasses,(function(e,i){return n("ev-button",{key:i,on:{click:function(t){t.stopPropagation()}}},[t._v(" "+t._s(e)+" ")])})),t._v(" ID : "),n("ev-button",{on:{click:function(t){t.stopPropagation()}}},[t._v("#"+t._s(t.focusedContent.value.id))])],2),n("div",[n("h4",[t._v("Position")]),n("div"),n("h4",[t._v("Decoration")]),n("div",[n("ev-form",{model:{value:t.focusedContent.contentStyleObject,callback:function(e){t.$set(t.focusedContent,"contentStyleObject",e)},expression:"focusedContent.contentStyleObject"}},[n("ev-form-field",{staticClass:"w-1/4",attrs:{field:"width",label:"width"}}),n("ev-form-field",{staticClass:"w-1/4",attrs:{field:"height",label:"height"}}),n("ev-form-field",{staticClass:"w-1/4",attrs:{field:"min-width",label:"min width"}}),n("ev-form-field",{staticClass:"w-1/4",attrs:{field:"min-height",label:"min height"}}),n("ev-form-field",{staticClass:"w-1/4",attrs:{field:"max-width",label:"max width"}}),n("ev-form-field",{staticClass:"w-1/4",attrs:{field:"max-height",label:"max height"}}),n("ev-form-field",{staticClass:"w-1/2",attrs:{field:"position",label:"Position"}}),n("ev-form-field",{staticClass:"w-2/3",attrs:{field:"display",label:"display",type:"radio-group",options:["block","inline","flex","none","inline-block","flow-root"]}}),n("ev-form-field",{staticClass:"w-2/3",attrs:{field:"justify-content",label:"justify-content",type:"radio-group",options:["flex-start","center","flex-end","space-between","space-around"]}}),n("ev-form-field",{staticClass:"w-2/3",attrs:{field:"align-items",label:"align-items",type:"radio-group",options:["flex-start","center","flex-end","baseline","stretch"]}}),n("ev-form-field",{staticClass:"w-1/2",attrs:{field:"padding",label:"Padding"}}),n("ev-form-field",{staticClass:"w-1/2",attrs:{field:"margin",label:"Margin"}}),n("ev-form-field",{staticClass:"w-1/2",attrs:{field:"border",label:"border"}}),n("ev-form-field",{staticClass:"w-1/2",attrs:{field:"background-image",label:"Bg Image"}}),n("ev-form-field",{staticClass:"w-1/3",attrs:{field:"background-color",label:"Background<br>Color"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.value;return n("ev-color-picker",{attrs:{value:i},on:{input:function(e){t.setStyle("background-color",e)}}})}}])}),n("ev-form-field",{staticClass:"w-1/3",attrs:{field:"border-color",label:"Border Color"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.value;return n("ev-color-picker",{attrs:{value:i},on:{input:function(e){t.setStyle("border-color",e)}}})}}])}),n("ev-form-field",{staticClass:"w-1/3",attrs:{field:"color",label:"Text Color"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.value;return n("ev-color-picker",{attrs:{value:i},on:{input:function(e){t.setStyle("color",e)}}})}}])})],1)],1)])])},ot=[],at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",t._b({class:t.getClass,on:{submit:function(t){return t.preventDefault(),function(){return!1}()}}},"form",t.$attrs,!1),[t._l(t.getParentErrors,(function(e,i){return n("ev-form-field",{key:i+t._uid,staticClass:"w-full text-red-600 ",attrs:{label:""}},[t._v(" "+t._s(e)+" ")])})),t._t("default")],2)},rt=[],lt=(n("a15b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"fieldWrap",staticClass:"flex items-start transition-ease",class:t.getWrapClass},[t.isShowLabel?n("div",{staticClass:"flex justify-center items-start h-full",style:t.getLabelStyle},[n("label",{ref:"formFieldLabel",class:t.getLabelClass,domProps:{innerHTML:t._s(t.label)}})]):t._e(),n("div",{staticClass:"relative flex flex-col h-full",class:t.getFieldWrapClass},[t._t("default",[n("div",{staticClass:"items-center",staticStyle:{"min-height":"40px"}},[t.isValue?n("div",{staticClass:"py-1 px-2 text-right h-full"},[t._v(t._s(t.getParentValue))]):n(t.getInputComponent,{tag:"component",staticClass:"w-full",attrs:{"auto-max":t.autoMax,"before-days":t.options&&t.options.beforeDays?t.options.beforeDays:1,name:t.field,options:t.options?t.options:null,rows:t.rows?t.rows:null,"select-group":t.options&&t.options.selectGroup,type:t.getInputType,value:t.getParentValue,single:""},on:{change:t.handleChange,input:t.handleInput,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnterKey(e)}}})],1)],{handler:t.handleInput,value:t.getParentValue}),t._l(t.getErrorMessage,(function(e,i){return n("div",{key:i,staticClass:"p-2 right-0 text-red-600 transition-ease",class:t.getErrorMessageCSS},[t._v(" "+t._s(e)+" ")])}))],2)])}),ut=[],ct=(n("caad"),n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",t._g(t._b({ref:"evInput",class:t.getClasses,style:t.getStyles,domProps:{value:t.value},on:{change:t.changeHandler,input:t.inputHandler}},"input",t.$attrs,!1),t.getListeners))}),dt=[],ft={name:"EvInput",data:function(){return{classes:["border","border-main-200","appearance-none","py-1","px-2","leading-tight","focus:outline-none","transition-ease","text-xs","text-xs","w-full"],isChanged:!1,availablePasswordChar:/[0-9a-zA-Z!@#$%^&*\s]*/gi,invalid:!1,mutateValue:null,isDiff:!1,originValue:null}},props:{autoMax:{default:null,required:!1},value:null,diffCheck:{type:Boolean,default:!1}},watch:{value:{handler:function(t){this.originValue===this.getUidForDiff&&this.diffCheck&&null!==t&&(this.originValue=t),null!==this.originValue&&""!==this.originValue&&this.originValue!==this.getUidForDiff&&this.originValue!=t?(this.isDiff=!0,this.$emit("diff",[this.originValue,t])):(this.isDiff=!1,this.$emit("diff",[]))}}},computed:{getListeners:function(){return Object.assign({},this.$listeners,{input:this.inputHandler,change:this.changeHandler})},getInputType:function(){return this.$attrs["type"]?this.$attrs["type"]:"text"},hasErrorField:function(){return this.$parent.hasError},getClasses:function(){var t="default";this.diffCheck&&this.isDiff&&(t="diff"),this.hasErrorField&&(t="error");var e=[];switch(t){case"default":e=["text-main-300","focus:border-gray-300"];break;case"diff":e=["bg-orange-200","text-orange-700","focus:bg-orange-100","focus:border-orange-300"];break;case"error":e=["bg-red-200","text-red-700","focus:bg-red-100","focus:border-red-300"];break}return"password"===this.$attrs["type"]&&e.push("ime-inactive"),e.concat(this.classes)},isNumberType:function(){return"number"===this.$attrs["type"]},isPasswordType:function(){return"password"===this.$attrs["type"]},getStyles:function(){var t={};if(this.$attrs["style"]&&(t=this.$attrs["style"]),this.autoMax&&(t["max-width"]=this.autoMax+"px",this.mutateValue)){var e=this.getHelperDiv.offsetWidth+32;e>parseInt(this.autoMax)&&(t["max-width"]=e+"px")}return t},getUnique:function(){return this._uid},getAutoMaxHelperDivId:function(){return"div_proxy_"+this.getUnique},getHelperDiv:function(){return document.getElementById(this.getAutoMaxHelperDivId)},getUidForDiff:function(){return"original#"+this._uid}},methods:{inputHandler:function(t){var e=t.target.value;this.$emit("input",e),this.mutateValue=e,this.autoMax&&(this.getHelperDiv.innerText=e)},changeHandler:function(t){this.$emit("change",t.target.value)},createProxyDiv:function(){var t=document.createElement("div");t.id=this.getAutoMaxHelperDivId,t.style.width="auto",t.style.display="inline-block",t.style.visibility="hidden",t.style.position="fixed",t.style.overflow="auto",document.body.appendChild(t)}},mounted:function(){this.diffCheck&&(this.value?this.originValue=this.value:this.originValue=this.getUidForDiff),this.autoMax&&this.createProxyDiv()}},ht=ft,pt=(n("4a5c"),Object(c["a"])(ht,ct,dt,!1,null,"153aa090",null)),vt=pt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"custom-label flex py-1 justify-center items-center"},[n("div",{staticClass:"bg-white border border-main-200 w-5 h-5 p-1 flex justify-center items-center focus:shadow-outline focus:outline-none",attrs:{tabindex:"0"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSpace(e)}}},[n("input",{ref:"input",staticClass:"hidden",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:t.isChecked,value:t.value},on:{change:t.handleChange}}),n("svg",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"text-gray-800 pointer-events-none",attrs:{height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M0 11.522l1.578-1.626 7.734 4.619 13.335-12.526 1.353 1.354-14 18.646z"}})])]),n("span",{staticClass:"select-none"},[t._t("default")],2)])},gt=[],bt={name:"EvCheckBox",data:function(){return{mutate:null}},props:{value:null,disabled:{type:Boolean,default:!1}},mounted:function(){this.$refs["input"].checked=this.value},methods:{handleSpace:function(t){this.$refs["input"].checked=!this.$refs["input"].checked,this.$emit("input",this.$refs["input"].checked)},handleChange:function(t){this.$emit("input",t.target.checked)}},computed:{isChecked:function(){return this.value?"checked":""}}},yt=bt,Ct=Object(c["a"])(yt,mt,gt,!1,null,null,null),xt=Ct.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center flex-no-wrap overflow-scroll"},t._l(t.options,(function(e,i){return n("label",{key:i,staticClass:"py-1 px-2 last:border-r border-r-0 text-xs cursor-pointer whitespace-nowrap",class:t.getActiveClass(e)},[n("input",{staticClass:"hidden",attrs:{name:"payment_type",type:"radio"},domProps:{value:t.getValue(e)},on:{input:t.inputHandler}}),t._v(" "+t._s(t.getLabel(e))+" ")])})),0)},$t=[],kt={name:"EvRadioGroup",props:{name:{required:!0},value:null,options:{required:!0,default:function(){return[]}},valueKey:{default:"value"},labelKey:{default:"label"}},methods:{getValue:function(t){return"object"===Object(b["a"])(t)?t[this.valueKey]:t},getActiveClass:function(t){return this.isActive(t)?["bg-green-300","text-white"]:["bg-white","border","text-black","border-main-200"]},isActive:function(t){return"object"===Object(b["a"])(t)?t[this.valueKey]==this.value:t==this.value},getLabel:function(t){return"object"===Object(b["a"])(t)?t[this.labelKey]:t},inputHandler:function(t){this.$emit("input",t.target.value)}}},_t=kt,jt=Object(c["a"])(_t,wt,$t,!1,null,"9cdae106",null),St=jt.exports,Ot={name:"EvFormField",components:{EvRadioGroup:St,EvCheckBox:xt,EvInput:vt},props:{value:null,label:null,field:null,comment:null,type:{type:String,default:"text"},labelPosition:{default:"left"},autoMax:{default:null},options:null,extInput:null,rows:null},data:function(){return{errorMessage:null,labelWidth:null,animated:null}},computed:{isBordered:function(){return this.$parent.bordered},isNoLabel:function(){return this.$parent.noLabel},getParentValue:function(){return"undefined"!==typeof this.value?this.value:this.field?this.$parent.getFieldValue(this.field):void 0},hasSlot:function(){return!!this.$slots.default},hasError:function(){return!!this.getErrorMessage},getErrorMessage:function(){return this.$parent.getErrors(this.field)},hasComment:function(){return!!this.getCommentMessage&&!this.hasError},getCommentMessage:function(){return this.comment},getInputType:function(){return this.type?this.type:"text"},isInput:function(){return["text","password","number"].includes(this.type)},isCheckbox:function(){return"checkbox"===this.type},getLabelStyle:function(){return this.isLabelTop?{width:"100%",justifyContent:"start"}:this.labelWidth?{width:this.labelWidth,"flex-shrink":0}:{}},getFieldWrapClass:function(){return{"has-error":this.hasError,"w-full":this.labelWidth,"border-l":this.isBordered}},getParentWrapClass:function(){return this.hasError?["items-start"]:["items-center"]},getErrorMessageCSS:function(){var t=this;return this.hasError?(this.$nextTick((function(){t.animated=!0})),this.animated?["opacity-100"]:["opacity-0"]):(this.$nextTick((function(){t.animated=!1})),["hidden"])},isValue:function(){return"value"===this.type},isDatePicker:function(){return"datepicker"===this.type},getWrapClass:function(){return this.isBordered?["border-l","border-r","border-b","first:border-t"]:this.isLabelTop?["flex-col"]:["mb-1"]},getLabelClass:function(){var t=["text-center","block","text-main-400","text-sm","px-2","py-1","form-field-label"];return this.isLabelTop?(t[0]="text-left",t):t},isLabelTop:function(){return this.$parent&&this.$parent.isLabelTop()},isDateRangePicker:function(){return"daterange"===this.type},isShowLabel:function(){return!this.isMobile&&(!this.isNoLabel&&"undefined"!==typeof this.label)},getInputComponent:function(){switch(this.type){case"input":return"ev-input";case"textarea":return"ev-textarea";case"checkbox":return"ev-check-box";case"radio-group":return"ev-radio-group";case"select":return"ev-tag-select";case"switch":return"ev-switch"}var t=this.snakeToCamel(this.type),e=o["default"].options.components[t];return e?this.type:(e=this.searchComponent(this.$parent,t),e?this.type:"ev-input")}},methods:{snakeToCamel:function(t){return t=t.replace(/([-_]\w)/g,(function(t){return t[1].toUpperCase()})),"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},searchComponent:function(t,e){var n=t.$options.components[e];return n?(this.$options.components[e]=n,e):!!t.$parent&&this.searchComponent(t.$parent,e)},clearErrorMessage:function(){this.$parent.clearError(this.field)},handleInput:function(t){"undefined"!==typeof this.field&&("undefined"!==typeof this.value&&this.$emit("input",t),this.$parent.setFieldValue(this.field,t))},setLabelWidth:function(t){this.labelWidth=t+5+"px"},handleChange:function(t){this.$parent.setFieldValue(this.field,t),this.clearErrorMessage()},handleEnterKey:function(){this.$parent.submitHandler&&"function"===typeof this.$parent.submitHandler&&this.$parent.submitHandler()}},mounted:function(){this.$parent.alignLabels()}},Et=Ot,Tt=Object(c["a"])(Et,lt,ut,!1,null,null,null),Pt=Tt.exports,Bt={name:"EvForm",components:{EvFormField:Pt},props:{value:{default:function(){return{}}},errors:{default:function(){return{}}},submitHandler:null,prefix:null,hook:null,horizontal:{type:Boolean,default:!1},labelTop:{type:Boolean,default:!1},gridable:{type:Boolean,default:!1},noLabel:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1}},methods:{isLabelTop:function(){return this.labelTop},setFieldValue:function(t,e){if(!this.value||"object"!==Object(b["a"])(this.value))return console.log("undefined model"),null;var n={};n[t]=e,"undefined"===this.value[t]&&this.$set(this.value,t,e),this.$emit("input",Object.assign({},this.value,n)),this.clearError(t),this.hook&&this.hook(t,e,this.value)},getFieldValue:function(t){if("undefined"!==typeof t)return"undefined"===typeof this.value[t]&&this.$set(this.value,t,""),this.value[t]},getErrors:function(t){if(!this.errors||"object"!==Object(b["a"])(this.errors))return null;var e=t;return this.prefix&&(e=[this.prefix,e].join(".")),this.errors[e]?this.errors[e]:null},clearError:function(t){if(!this.errors||"object"!==Object(b["a"])(this.errors))return null;var e=t;if(this.prefix&&(this.errors[this.prefix]&&(this.errors[this.prefix]=null),e=[this.prefix,e].join(".")),"undefined"===typeof this.errors[e])return null;this.errors[e]=null},alignLabels:function(){var t=this;this.$nextTick((function(){t.$children.map((function(e){"function"===typeof e.setLabelWidth&&e.setLabelWidth(t.getLargestLabelWidth)}))}))}},computed:{getClass:function(){var t=["flex","flex-row"];return this.horizontal||t.push("content-start"),this.gridable?t.push("flex-no-wrap"):t.push("flex-wrap"),this.getParentErrors&&t.push("bg-red-100"),t},getLargestLabelWidth:function(){return Math.max.apply(Math,Object(m["a"])(this.$children.map((function(t){return t.$refs["formFieldLabel"]?t.$refs["formFieldLabel"].clientWidth:0}))))},getParentErrors:function(){return this.prefix&&this.errors[this.prefix]?this.errors[this.prefix]:""}},mounted:function(){this.alignLabels()}},Mt=Bt,It=(n("c260"),Object(c["a"])(Mt,at,rt,!1,null,"04987560",null)),Ft=It.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{ref:"btn",staticClass:"text-13 lg:text-15 py-2 px-2 transition-ease is-activated focus:outline-none focus:gray-shadow whitespace-no-wrap",class:t.getClass,staticStyle:{"min-height":"40px"},attrs:{type:"button"},on:{click:t.clickHandler}},[t._t("default")],2)},Vt=[],Lt={name:"EvButton",props:{type:{type:String,default:"basic"}},data:function(){return{defaultClass:["py-2","px-2","transition-ease","is-activated","focus:outline-none","focus:gray-shadow"],typeClass:{primary:["bg-main-400","text-white"],basic:["border","border-main-200","bg-white","text-main-400"],secondary:["bg-blue-500","focus:bg-blue-400","text-white"],warning:["bg-orange-500","focus:bg-orange-400","text-white"],danger:["bg-red-500","focus:bg-red-400","text-white"],plain:["bg-white-400","hover:text-gray-700","focus:bg-gray-400","text-gray-600"]}}},methods:{clickHandler:function(t){if(this.$listeners.click)return this.$listeners.click(t)}},computed:{getClass:function(){return this.typeClass[this.type]}}},Ht=Lt,At=(n("b72d"),Object(c["a"])(Ht,Rt,Vt,!1,null,"cedab6b2",null)),Dt=At.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative"},[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"shadow border rounded cursor-pointer inline-block",style:t.getStyle,on:{click:function(){t.showPanel=!t.showPanel}}}),n("div",{staticClass:"text-sm"},[t._v(t._s(t.value))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPanel,expression:"showPanel"}],staticClass:"absolute",staticStyle:{padding:"10px"},on:{mouseleave:function(){t.showPanel=!1}}},[n("chrome",{attrs:{value:t.value},on:{input:function(e){t.handleColor(e)}}})],1)])},Wt=[],Ut=n("c345"),Kt={name:"EvColorPicker",components:{Chrome:Ut["Chrome"]},props:{value:{type:String,default:"#FFFFFF"},type:{type:String,default:"hex"}},data:function(){return{showPanel:!1,bgColor:"#FFFFFF"}},computed:{getStyle:function(){return{width:"24px",height:"24px",backgroundColor:this.value}}},methods:{handleColor:function(t){switch(this.type){case"hex":this.bgColor=t.hex,this.$emit("input",t.hex);break;case"rgba":this.bgColor="rgba(".concat(t.rgba.r,",").concat(t.rgba.g,",").concat(t.rgba.b,",").concat(t.rgba.a,")"),this.$emit("input",this.bgColor);break}}}},Gt=Kt,qt=Object(c["a"])(Gt,Nt,Wt,!1,null,"10de9646",null),zt=qt.exports,Jt={name:"StyleController",inject:["$editor"],components:{EvColorPicker:zt,EvButton:Dt,EvFormField:Pt,EvForm:Ft},computed:{focusedContent:function(){return this.$editor.states.focusedContent&&this.$editor.states.focusedContent.component?this.$editor.states.focusedContent.component:null},getTargetClasses:function(){return this.focusedContent.value.class||[]}},methods:{handleInput:function(t){console.log(t)},hasStyle:function(t,e){var n=this.focusedContent.contentStyleObject;return n&&n[t]&&n[t]===e?"green":null},setStyle:function(t,e){this.focusedContent.setCssObject(Object(x["a"])({},t,e))},setCssObject:function(t){var e=this.$editor.getCurrentMedia;this.value.cssObject[e]=Object.assign({},K(this.value.cssObject[e]),t),this.$emit("update:content",K(this.value))}}},Qt=Jt,Zt=Object(c["a"])(Qt,st,ot,!1,null,"1489c67f",null),Xt=Zt.exports,Yt={name:"Helper",inject:["$editor"],components:{StyleController:Xt,ContentTree:et,CodeEditor:I,ClassTagInput:O,VuButton:L},data:function(){return{activeTab:"class",getStyle:{display:"none",justifyContent:"baseline",position:"absolute",left:0,right:"auto",top:0,zIndex:10,opacity:1},pointer:{x:0,y:0},isShowTemplate:!1,templateName:null,control:{display:["block","inline","flex","inline-block","flow-root"],"justify-content":["center","flex-start","flex-end","space-between","space-around"],"align-items":["flex-start","baseline","center","flex-end","stretch"],"flex-direction":["row","column"]}}},watch:{editorMedia:function(t){var e=this;this.contentFocused&&this.$nextTick((function(){setTimeout((function(){e.setPosition(e.contentFocused.component.$el),e.scrollMoveToSelectedContent()}),400)}))},contentFocused:function(t){var e=this;this.isLayoutComponent?(this.setPosition(t.component.$el),this.$nextTick((function(){e.scrollMoveToSelectedContent()}))):this.hide()},focusedContentValue:{deep:!0,handler:function(){this.resetPosition()}},isSorting:function(){this.resetPosition()}},computed:{focusedContent:function(){return this.$editor.states.focusedContent?this.$editor.states.focusedContent.component:null},focusedContentValue:function(){return this.focusedContent?this.focusedContent.value:""},getTargetClasses:function(){return this.focusedContent.value.class||[]},editorMedia:function(){return this.$editor.getCurrentMedia},getTargetStyleText:{get:function(){return this.focusedContent.value.cssText||""},set:function(t){var e=it()(t||"",{camelCase:!1,numbers:!1});this.updateFocusedValue(t,"cssText"),this.updateFocusedValue(e,"cssObject")}},getContentModel:function(){return this.$editor.contentModel},contentFocused:function(){return this.$editor.states.focusedContent},isEditing:function(){return this.$editor.states.editingContent},isLayoutComponent:function(){return this.contentFocused&&!this.isEditing},getIndexFromParent:function(){return this.focusedContent.parent?this.focusedContent.parent.value.contents.map((function(t){return t.id})).indexOf(this.focusedContent.value.id):null}},methods:{resetPosition:function(){var t=this;this.isLayoutComponent&&this.$nextTick((function(){t.setPosition(t.contentFocused.component.$el),t.scrollMoveToSelectedContent()}))},updateValue:function(t){this.focusedContent.updateContentValue(t)},updateFocusedValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$editor.setRollBackPoint();var n=this.focusedContent.value;e?(n[e]?n[e]=t:this.$set(n,e,t),this.updateValue(n)):this.updateValue(t)},hide:function(){this.getStyle.display="none"},setPosition:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function n(){var i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t&&e.$el){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.$nextTick();case 4:return i=e.$editor.$el.getBoundingClientRect(),s=t.getBoundingClientRect(),e.getStyle.display="absolute",o=window.scrollX,e.getStyle.left=s.x+i.x+o+"px",e.getStyle.right="auto",e.getStyle.top=s.y+i.y+s.height+window.scrollY+20+"px",e.getStyle.opacity=1,n.next=14,e.$nextTick((function(){var t=e.$el.getBoundingClientRect(),n=window.innerWidth-(t.x+t.width)-100;n<0?(e.getStyle.left="auto",e.getStyle.right="20px"):e.getStyle.right="auto"}));case 14:case"end":return n.stop()}}),n)})))()},scrollMoveToSelectedContent:function(){var t=this.$refs["structure"];if(t){var e=t.getElementsByClassName("selected-tag");if(e.length){var n=e[0],i=n.getBoundingClientRect(),s=t.getBoundingClientRect(),o=i.y-s.y+t.scrollTop-20;o<0&&(o=0),t.scrollTo({top:o})}}},classHandler:function(t){this.updateFocusedValue(t,"class")},activeClass:function(t){return this.activeTab===t?["active"]:[]},hasStyle:function(t,e){var n=this.focusedContent.contentStyleObject;return n&&n[t]&&n[t]===e?"green":null},setStyle:function(t,e){this.focusedContent.setCssObject(Object(x["a"])({},t,e))},toggleDisplay:function(){this.focusedContent.value.style&&"flex"===this.focusedContent.value.style.display?this.setStyle("display","flow-root"):this.setStyle("display","flex")},addContents:function(){var t=this;if(this.$editor.setRollBackPoint(),!this.focusedContent.value.contents)return this.focusedContent.parent.value.contents.map((function(e,n){e.id===t.focusedContent.value.id&&(t.focusedContent.parent.value.contents.splice(n+1,0,G({tag:"div",id:N(),class:["p-2"],contents:[]})),t.focusedContent.parent.refreshValue())})),void(this.$editor.config.showGrid=!0);this.$set(this.focusedContent.value.contents,this.focusedContent.value.contents.length,G({tag:"div",id:N(),class:["p-2"],contents:[]})),this.$editor.config.showGrid=!0,this.focusedContent.parent?this.focusedContent.parent.refreshValue():this.focusedContent.refreshValue()},deleteContents:function(){var t=this;this.$editor.setRollBackPoint();var e=0;this.focusedContent.parent.value.contents.map((function(n,i){t.focusedContent.value===n&&(e=i)})),this.focusedContent.parent.value.contents.splice(e,1),this.focusedContent.parent?this.focusedContent.parent.changingUpdate():this.focusedContent.changingUpdate()},copy:function(){var t=this;this.$editor.setRollBackPoint();var e=0;this.focusedContent.parent.value.contents.map((function(n,i){t.focusedContent.value===n&&(e=i)}));var n=G(this.focusedContent.value);this.focusedContent.parent.value.contents.splice(e,0,n),this.focusedContent.parent.refreshValue()},addIdSelectorToCssText:function(){var t="#"+this.focusedContent.value.id+"{\n  \n}";this.$editor.media.mobile&&(t=this.$editor.mediaQuery.mobile+"{\n  #"+this.focusedContent.value.id+"{\n  \n  }\n}"),this.focusedContent.value.cssText?this.focusedContent.value.cssText+=t:this.getTargetStyleText=t},addClassToCssText:function(t){var e="\n."+t+"{\n  \n}";this.focusedContent.value.cssText?this.focusedContent.value.cssText+=e:this.getTargetStyleText=e},keepAsTemplate:function(){this.$editor.$refs["templateSaver"].show()}}},te=Yt,ee=(n("7f31"),Object(c["a"])(te,y,C,!1,null,"fba01d6e",null)),ne=ee.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex border shadow p-2 bg-white"},[n("div",{staticClass:"bold text-2xl"},[t._v(" Vueuv Editor ")]),n("div",{staticClass:"mx-2"},[t._v(" Contents "),n("div",{ref:"sortable",staticClass:"flex"},t._l(t.getBlocks,(function(e,i){return n("div",{key:i,staticClass:"bg-white p-1 shadow-md border inline-block",attrs:{"data-block-index":i}},[t._v(" "+t._s(e.label)+" ")])})),0)]),n("div",{staticClass:"mx-2"},[t._v(" Media "),n("toggle-group",{attrs:{unique:""},model:{value:t.$editor.media,callback:function(e){t.$set(t.$editor,"media",e)},expression:"$editor.media"}})],1),n("div",{staticClass:"mx-2"},[t._v(" Config "),n("toggle-group",{model:{value:t.$editor.config,callback:function(e){t.$set(t.$editor,"config",e)},expression:"$editor.config"}})],1),n("div",{staticClass:"mx-2"},[t._v(" Action "),n("div",[n("vu-button",{on:{click:t.exportEditor}},[t._v(" save ")]),n("vu-button",{on:{click:t.undoContent}},[t._v(" undo ")]),n("vu-button",{on:{click:function(){t.$editor.showDocument=!0}}},[t._v(" help ")])],1)]),n("div",{staticClass:"mx-2"},[t._v(" Templates "),n("div",{ref:"template",staticClass:"flex items-center"},t._l(t.getTemplates,(function(e,i){return n("div",{key:"template"+i,staticClass:"bg-white p-1 shadow-md border inline-block",attrs:{"data-block-index":i},on:{click:function(n){return t.deleteTemplate(e)}}},[t._v(" "+t._s(e.label)+" ")])})),0)])])},se=[],oe=n("d4ec"),ae=n("bee2"),re=n("8a23"),le=function(){function t(e,n){var i=this;if(Object(oe["a"])(this,t),this.vue=e,this.options={group:"content-render",ghostClass:"vueuv-ghost",animation:300},this.vue.value&&this.vue.value.contents){var s={onStart:function(t){i.onStart(t)},onEnd:function(t){i.onEnd(t)},onAdd:function(t){i.onAdd(t)},onRemove:function(t){i.onRemove(t)},onUpdate:function(t){i.onUpdate(t)}};this.options=Object.assign(this.options,s)}n&&(this.options=Object.assign(this.options,n))}return Object(ae["a"])(t,[{key:"setEvent",value:function(t,e){this.options[t]=function(t){e(t)}}},{key:"init",value:function(t){this._sortable=re["a"].create(t||this.vue.$el,this.options)}},{key:"parseEvent",value:function(t,e){return{type:e,item:t.item.getAttribute("data-id"),from:t.from.getAttribute("data-id"),to:t.to.getAttribute("data-id"),oldIndex:t.oldIndex||0,newIndex:t.newIndex||0}}},{key:"idRecreate",value:function(t){var e=this;t.id=N(),t.contents&&t.contents.map((function(t){e.idRecreate(t)}))}},{key:"onStart",value:function(t){this.editor.states.isSorting=!0}},{key:"onEnd",value:function(t){this.editor.states.isSorting=!1}},{key:"onAdd",value:function(t){var e=this.parseEvent(t,"add"),n={};this.editor.hasDragBlock()?(n=G(this.editor.states.dragBlock),t.item.remove()):(console.log(e.item),n=G(this.editor.getContentValueById(e.item)),t.item.remove()),this.vue.value.contents.splice(e.newIndex,0,n),this.vue.updateContents(this.vue.value)}},{key:"onRemove",value:function(t){var e=this.parseEvent(t,"remove");this.vue.value.contents.splice(e.oldIndex,1),this.vue.updateContents(this.vue.value)}},{key:"onUpdate",value:function(t){var e=this.parseEvent(t,"update");this.vue.move(this.vue.value.contents,e.oldIndex,e.newIndex),this.vue.updateContents(this.vue.value)}},{key:"editor",get:function(){return this.vue.$editor}}]),t}(),ue=function(){function t(){Object(oe["a"])(this,t)}return Object(ae["a"])(t,[{key:"getAll",value:function(){return JSON.parse(window.localStorage.getItem("vueuv-templates"))||[]}},{key:"clear",value:function(){window.localStorage.setItem("vueuv-templates","")}},{key:"remove",value:function(t){this.store(this.getAll().filter((function(e){return e.label!==t})))}},{key:"store",value:function(t){window.localStorage.setItem("vueuv-templates",JSON.stringify(t))}},{key:"get",value:function(t){var e=JSON.parse(window.localStorage.getItem("vueuv-templates"));return e.filter((function(e){return e.label===t}))}},{key:"set",value:function(t,e){var n=this.getAll().filter((function(e){return e.label!==t}));n.push({label:t,value:e}),this.store(n)}}]),t}(),ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.getOptions,(function(e,i){return n("vu-button",{key:i,attrs:{color:t.hasValue(e)?t.color:null},on:{click:function(n){return t.toggle(e)}}},[t._v(" "+t._s(e)+" ")])})),1)},de=[],fe=(n("b64b"),{name:"ToggleGroup",components:{VuButton:L},props:{value:{type:Object},color:{type:String,default:"green"},unique:{type:Boolean,default:!1}},computed:{getOptions:function(){return Object.keys(this.value)}},methods:{hasValue:function(t){return this.value[t]||!1},toggle:function(t){var e=this;this.unique?(Object.keys(this.value).map((function(t){e.value[t]=!1})),this.value[t]=!0):this.value[t]=!this.value[t],this.$emit("input",this.value)}}}),he=fe,pe=Object(c["a"])(he,ce,de,!1,null,"4e3f78a7",null),ve=pe.exports,me={name:"Menubar",inject:["$editor"],components:{ToggleGroup:ve,VuButton:L},computed:{getBlocks:function(){return o["default"].$vueuePlugins},isSorting:{get:function(){return this.$editor.states.isSorting},set:function(t){this.$editor.states.isSorting=t}},getTemplates:function(){var t=(new ue).getAll();return t||[]}},methods:{toggleGrid:function(){this.$editor.config.showGrid=!this.$editor.config.showGrid},deepCopy:function(t){var e=A(t);return e.id=N(),e},exportEditor:function(){this.$editor.exportHtml()},undoContent:function(){this.$editor.undo()},camelToSnakeCase:function(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))},initSorting:function(){var t=new le(this,{sort:!1,group:{name:"content-render",pull:"clone",put:!1},setData:function(e,n){var i=n.getAttribute("data-block-index"),s=A(t.vue.getBlocks[i].contentDefault);s.tag=t.vue.camelToSnakeCase(t.vue.getBlocks[i].name).substring(1),t.editor.states.dragBlock=s},onEnd:function(){t.editor.states.dragBlock=null,t.editor.refreshKey()}});t.init(this.$refs["sortable"])},initTemplateDraggable:function(){var t=new le(this,{sort:!0,group:{name:"content-render",pull:"clone",put:!1},setData:function(e,n){var i=n.getAttribute("data-block-index");t.editor.states.dragBlock=t.vue.getTemplates[i].value},onEnd:function(){t.editor.states.dragBlock=null}});t.init(this.$refs["template"])},deleteTemplate:function(t){var e=this;this.$vueuvModal.show({color:"yellow",title:"템플릿 삭제",body:'"'+t.label+'" 을 삭제합니다.'}).then((function(){e.$editor.$refs["templateSaver"].deleteTemplate(t)}))},toggleGuide:function(){this.$editor.config.showGuide=!this.$editor.config.showGuide}},mounted:function(){this.initSorting(),this.initTemplateDraggable()},data:function(){return{showDocument:!1}}},ge=me,be=Object(c["a"])(ge,ie,se,!1,null,"320ec26c",null),ye=be.exports,Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{visible:t.isShowTemplate,title:"템플릿 등록"},on:{"update:visible":function(e){t.isShowTemplate=e},success:t.createTemplate}},[n("ul",{staticClass:"my-2"},[n("li",[t._v("+ 템플릿 이름을 입력하고 확인 버튼을 누르세요. 동일한 이름의 템플릿이 있다면 덮어집니다.")]),n("li",[t._v("+ 별도의 CSS 파일에 적용된 효과는 저장되지 않을 수 있습니다.")])]),n("div",{staticClass:"col-span-3 sm:col-span-2"},[n("label",{staticClass:"block text-sm font-medium text-gray-700"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.templateName,expression:"templateName"}],staticClass:"focus:outline-none border flex-1 block w-full rounded-none h-8 p-2 sm:text-sm border-gray-600",attrs:{type:"text"},domProps:{value:t.templateName},on:{input:function(e){e.target.composing||(t.templateName=e.target.value)}}})]),n("label",{staticClass:"flex items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isCopyCss,expression:"isCopyCss"}],staticClass:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",attrs:{id:"remember_me",type:"checkbox"},domProps:{checked:Array.isArray(t.isCopyCss)?t._i(t.isCopyCss,null)>-1:t.isCopyCss},on:{change:function(e){var n=t.isCopyCss,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);i.checked?a<0&&(t.isCopyCss=n.concat([o])):a>-1&&(t.isCopyCss=n.slice(0,a).concat(n.slice(a+1)))}else t.isCopyCss=s}}}),n("label",{staticClass:"ml-2 block text-sm text-gray-900",attrs:{for:"remember_me"}},[t._v(" CSS 전체를 복사 ")])])])])},xe=[],we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal",appear:""}},[t.visible?n("div",{staticClass:"fixed z-20 inset-0 overflow-y-auto opacity-100"},[n("div",{staticClass:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},[n("div",{staticClass:"fixed inset-0 transition-opacity"},[n("div",{staticClass:"absolute inset-0 bg-gray-800 opacity-75"})]),n("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen"},[t._v("​")]),n("div",{staticClass:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[n("div",{staticClass:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},[n("div",{staticClass:"sm:flex sm:items-start"},[n("div",{staticClass:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10",class:["bg-"+t.color+"-100"]},[n("svg",{staticClass:"h-6 w-6",class:["text-"+t.color+"-600"],attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}})])]),n("div",{staticClass:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[n("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900",attrs:{id:"modal-headline"}},[t._v(" "+t._s(t.title)+" ")]),n("div",{staticClass:"mt-2"},[n("p",{staticClass:"text-sm text-gray-800"},[t._t("default",[t._v(" "+t._s(t.body)+" ")])],2)])])])]),n("div",{staticClass:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[t._t("button",[n("button",{staticClass:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",class:["bg-"+t.color+"-600","hover:bg-"+t.color+"-700","focus:ring-"+t.color+"-500"],attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.exec(e)}}},[t._v(" "+t._s(t.yesButton)+" ")]),t.noButton?n("button",{staticClass:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.hide(e)}}},[t._v(" "+t._s(t.noButton)+" ")]):t._e()])],2)])])]):t._e()])},$e=[],ke=n("262e"),_e=n("2caf"),je=n("9ab4"),Se=n("2fe1"),Oe=o["default"].extend({name:"Modal",props:{color:{type:String,default:"green"},title:{type:String,default:"Title",required:!1},body:{type:String,default:"Body",required:!1},yesButton:{type:String,default:"Submit"},noButton:{type:String,default:"Cancel"},visible:{type:Boolean,default:!1,required:!1}}}),Ee=function(t){Object(ke["a"])(n,t);var e=Object(_e["a"])(n);function n(){return Object(oe["a"])(this,n),e.apply(this,arguments)}return Object(ae["a"])(n,[{key:"exec",value:function(){this.$emit("success",!0),this.$emit("update:visible",!1)}},{key:"hide",value:function(){this.$emit("fail",!1),this.$emit("update:visible",!1)}}]),n}(Oe);Ee=Object(je["a"])([Se["a"]],Ee);var Te,Pe,Be,Me,Ie,Fe,Re=Ee,Ve=Re,Le=(n("f924"),Object(c["a"])(Ve,we,$e,!1,null,"11c13b8a",null)),He=Le.exports,Ae={name:"TemplateSaver",inject:["$editor"],components:{Modal:He},data:function(){return{isShowTemplate:!1,templateName:null,isCopyCss:!1,store:null}},methods:{show:function(){this.isShowTemplate=!0},getContentModelByComputedCss:function(t){var e=this,n=K(t.getValue);return n.style=Object.assign(q(t.$el),n.style),n.contents&&n.contents.length&&(n.contents=t.$children.map((function(t){return!!t.isContentRender&&e.getContentModelByComputedCss(t)})).filter((function(t){return t}))),n},deleteTemplate:function(t){this.store.remove(t.label),this.$editor.refreshMenu()},createTemplate:function(){var t,e=this.$editor.states.focusedContent.component;t=this.isCopyCss?this.getContentModelByComputedCss(e):e.value,this.store.set(this.templateName,t),this.$editor.refreshMenu()}},mounted:function(){this.store=new ue}},De=Ae,Ne=Object(c["a"])(De,Ce,xe,!1,null,null,null),We=Ne.exports,Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal",appear:""}},[t.visible?n("div",{staticClass:"fixed z-10 inset-0 overflow-y-auto opacity-100"},[n("div",{staticClass:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},[n("div",{staticClass:"fixed inset-0 transition-opacity"},[n("div",{staticClass:"absolute inset-0 bg-gray-800 opacity-75"})]),n("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen"},[t._v("​")]),n("transition",{attrs:{name:"modal-inner",appear:""}},[t.visible?n("div",{staticClass:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[n("div",{staticClass:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},[n("div",{staticClass:"sm:flex sm:items-start"},[n("div",{staticClass:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[n("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900",attrs:{id:"modal-headline"}},[t._v(" 사용법 안내 ")]),n("div",{staticClass:"mt-2"},[n("ul",{staticClass:"text-gray-800"},[n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Content")]),n("p",[t._v("드레그 앤 드롭으로 원하는 곳에 새로운 컨덴츠를 추가할 수 있습니다.")])],1),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Media")]),n("p",[t._v("에디터에 Media Query 를 적용합니다. Mobile 상태에서 하는 스타일 작업은 모두 media query 안에 적용되며, 모바일과 데스크톱 환경에서 서로 다른 스타일을 적용할 수 있습니다.")])],1),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Config")]),n("p",[t._v("작업을 돕기 위한 가이드나 그리드를 켜고 끌 수 있습니다.")])],1),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Action")]),n("p",[t._v("작업물을 Export 하거나 되돌립니다.")])],1),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("tag",{attrs:{color:"green"}},[t._v("Template")]),n("p",[t._v("선택한 컨덴츠를 사용자의 로컬 스토리지에 저장하고 재활용할 수 있습니다.")])],1)]),n("h4",{staticClass:"text-lg bold"},[t._v("Handler & Hot Key")]),n("ul",{staticClass:"flex flex-col"},[n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("div",{staticClass:"flex-shrink-0"},[n("tag",[t._v("mouse select")])],1),n("div",[t._v("클래스, 스타일, 레이아웃을 작업할 컨덴츠를 선택합니다. 선택된 컨덴츠는 삭제, 복제 또는 템플릿으로 저장(Keep) 할 수 있습니다.")])]),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("div",{staticClass:"flex-shrink-0"},[n("tag",[t._v("mouse double click")])],1),n("div",[t._v("컨덴츠를 수정모드로 변경하고 내용을 수정할 수 있게 합니다.")])]),n("li",{staticClass:"py-2 my-1 flex justify-start items-baseline"},[n("div",{staticClass:"flex-shrink-0"},[n("tag",[t._v("cmd")]),t._v(" + "),n("tag",[t._v("z")])],1),n("div",[t._v("작업상황을 한단계 이전으로 되돌립니다.")])])])])])])]),n("div",{staticClass:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[t._t("button",[n("button",{staticClass:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.hide(e)}}},[t._v(" 닫기 ")])])],2)]):t._e()])],1)]):t._e()])},Ke=[],Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getClass},[t._t("default")],2)},qe=[],ze={name:"Tag",props:{color:{type:String,default:"gray"}},computed:{getClass:function(){return"m-1 mt-0 p-1 rounded bg-".concat(this.color,"-400 text-white cursor-pointer hover:bg-").concat(this.color,"-300 shadow inline")}}},Je=ze,Qe=Object(c["a"])(Je,Ge,qe,!1,null,"4d4da89c",null),Ze=Qe.exports,Xe={name:"Document",components:{Tag:Ze},props:{visible:{type:Boolean}},methods:{exec:function(){this.$emit("success",!0),this.$emit("update:visible",!1)},hide:function(){this.$emit("fail",!1),this.$emit("update:visible",!1)}}},Ye=Xe,tn=(n("987b"),Object(c["a"])(Ye,Ue,Ke,!1,null,"105590fe",null)),en=tn.exports,nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("iframe",{ref:"frame",staticClass:"border shadow p-2 mx-auto relative",style:t.getStyle,attrs:{width:t.frame.width,height:t.frame.height}})},sn=[],on=(n("498a"),{inject:["$editor"],name:"InnerFrame",props:{cleanStyle:{type:Boolean}},data:function(){return{renderComponent:null}},computed:{getFrame:function(){return this.$refs.frame.contentWindow},frame:function(){return this.$editor.frame},getStyle:function(){return{backgroundColor:this.frame.backgroundColor||"none",transition:"all ease-in-out 0.3s"}}},methods:{appendToBody:function(t){return this.appendToFrame(t,"body")},appendToHead:function(t){return this.appendToFrame(t,"head")},appendToFrame:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"head";"string"!==typeof t?this.getFrame.document[e].appendChild(t):this.getFrame.document[e].appendChild(this.htmlToElement(t))},scrapLinks:function(){return[].concat(Object(m["a"])(document.head.getElementsByTagName("link")),Object(m["a"])(document.body.getElementsByTagName("link")))},scrapStyles:function(){var t="";return Array.prototype.forEach.call(document.styleSheets,(function(e){e.href||Array.prototype.forEach.call(e.cssRules,(function(e){t+=e.cssText}))})),t},lunch:function(){var t=this;if(this.appendToHead('<meta name="viewport" content="width=device-width,initial-scale=1.0">'),!this.cleanStyle){var e=this.scrapStyles(),n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,this.appendToHead(n);var i=this.scrapLinks();i.map((function(e){var n=document.createElement("link");n.href=e.href||"",n.rel=e.rel||"",n.as=e.as||"",t.appendToHead(n)}))}this.appendToBody("<div id='render-frame' style='margin: 5px;'></div>");var s=this.$editor;this.renderComponent=new o["default"]({provide:function(){return{$editor:s}},render:function(t){var e=s.config.editable?"content-render":"content-exporter";return t("div",{},[t(e,{props:{value:s.contentModel}}),t("content-style")])}}).$mount(this.$el.contentWindow.document.getElementById("render-frame"))},htmlToElement:function(t){var e=document.createElement("template");return t=t.trim(),e.innerHTML=t,e.content.firstChild}},mounted:function(){this.lunch()}}),an=on,rn=Object(c["a"])(an,nn,sn,!1,null,null,null),ln=rn.exports,un={name:"VueuvEditor",components:{InnerFrame:ln,Document:en,TemplateSaver:We,Menubar:ye,Helper:ne},plugins:[],props:{html:{type:String},css:{type:String},target:{type:[String,Object]},undoStep:{type:[Number,String],default:10}},watch:{media:{deep:!0,handler:function(t){t.mobile&&(this.frame.width="480px"),t.desktop&&(this.frame.width="100%"),t.tablet&&(this.frame.width="1080px")}}},data:function(){return{transit:!1,frame:{width:"100%",height:"900px"},media:{mobile:!1,tablet:!1,desktop:!0},config:{editable:!0,showGrid:!0,showGuide:!0},states:{selectedContent:null,focusedContent:null,editingContent:null,isSorting:!1,dragBlock:null},contentModel:{id:"vueuv-content-root",isRootContent:!0,cssObject:{},contents:[]},logs:[],keys:{ctrl:!1,alt:!1},renderKey:"default",menubarKey:"menubar",showDocument:!1}},provide:function(){return{$editor:this}},computed:{getCurrentMedia:function(){return this.media.mobile?"mobile":this.media.tablet?"tablet":"desktop"},getRootRender:function(){return this.$refs.render},mediaQuery:function(){return{mobile:"@media screen and (max-width: 480px)",tablet:"@media screen and (max-width: 1080px)",desktop:"#"}},isEditable:function(){return this.config.editable},hasEditingContent:function(){return!!this.states.editingContent},getEditorClass:function(){return{"fade-in-out-leave-active":this.transit}},getRenderSectionStyle:function(){var t={transition:"all 0.3s ease-in-out"};return this.media.desktop&&(t["width"]="100%",t["margin-left"]="auto",t["margin-right"]="auto"),this.media.mobile&&(t["width"]="480px",t["margin-left"]="auto",t["margin-right"]="auto"),this.media.tablet&&(t["width"]="1020px",t["margin-left"]="auto",t["margin-right"]="auto"),t}},methods:{hasDragBlock:function(){return!!this.states.dragBlock},refreshMenu:function(){this.menubarKey=N()},refreshKey:function(){this.$nextTick((function(){}))},undo:function(){if(this.logs.length){var t=this.logs.pop();t(),this.refreshKey()}},setRollBackPoint:function(){var t=this,e=A(this.contentModel);this.logs.push((function(){t.contentModel=e}))},saveLog:function(){this.logs.length>=this.undoStep&&this.logs.splice(0,1),this.logs.push(JSON.stringify(this.contentModel))},updateContentById:function(t,e){this.getContentRenderById(t)},getContentValueById:function(t){var e=this.getContentRenderById(t,this.getRootRender);return e.value||{}},getContentRenderHas:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e||(e=this.contentModel),!e||!e.contents)return null;for(var n=0;n<e.contents.length;n++){console.log(e.contents[n]);var i=e.contents[n];return t===i?e:this.getContentRenderHas(t,i)}},getContentRenderById:function(t,e){if(e&&"object"===Object(b["a"])(e)){if(e.contentId===t)return e;for(var n,i=0;i<e.$children.length;i++)if(n=this.getContentRenderById(t,e.$children[i]),n)return n}else console.warn("this is not vue component")},exportHtml:function(){var t=this;this.config.editable=!1,this.$nextTick((function(){var e=parseInt(t.frame.width);"100%"===t.frame.width&&(e=window.innerWidth);var n=window.open("","export","width=".concat(e,",height=800px")),i=t.$refs.exporter.$el.contentWindow.document;n.document.head.innerHTML=i.head.innerHTML,n.document.body.innerHTML=i.body.innerHTML}))},showRawCode:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.config.mode="export",n={html:"",css:""},e.next=4,t.$nextTick((function(){n.html=t.getHtml(),n.css=t.getCSS()}));case 4:t.$emit("input",n.html+'<style type="text/css">'.concat(n.css,"</style>"));case 5:case"end":return e.stop()}}),e)})))()},getHtml:function(){var t=this.$refs.frame;return t.$el.outerHTML},getCSS:function(){var t=this.$refs["style"];return t.$el.innerText},parseNode:function(t){switch(t.nodeType){case 3:return this.parseTextElement(t);default:return this.parseElement(t)}},parseTextElement:function(t){return{tag:"inner-text",id:N(),class:[],props:{value:t.textContent}}},parseElement:function(t){var e=Object.fromEntries(Array.from(t.attributes,(function(t){var e=t.name,n=t.value;return[e,n]}))),n=e.id||N(),i=Object(m["a"])(t.classList),s=t.tagName.toLowerCase(),o={tag:s,id:n,class:i,style:{},cssText:null,attrs:e,props:e};return t.childNodes&&(o.contents=Array.from(t.childNodes,this.parseNode)),o},convertValueProp:function(t){var e=new DOMParser,n=e.parseFromString(t,"text/html"),i=n.getElementsByTagName("body"),s=this.parseNode(i[0]);this.$set.apply(this,[this.contentModel.contents,0].concat(Object(m["a"])(s.contents)))},handleRenderInput:function(t){this.contentModel=t},setDefaultSelect:function(){this.states.selectedContent=null}},mounted:function(){var t=this;if(this.target){var e=document.getElementById(this.target);this.convertValueProp(e.outerHTML),e.style.display="none"}document.addEventListener("keydown",(function(e){e.metaKey&&"z"===e.key&&t.undo()}))},destroyed:function(){}},cn=un,dn=(n("c668"),Object(c["a"])(cn,p,v,!1,null,"14b5aeae",null)),fn=dn.exports,hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{contentEditable:t.isEdited},domProps:{innerHTML:t._s(t.value)}})},pn=[],vn={name:"InnerText",provide:["$editor"],label:"기본텍스트",contentDefault:null,props:{value:{type:String},contentRender:{type:Object}},render:function(t){return this.$editor.config.editable?this.isEdited?t("input",{attrs:{contenteditable:!0,value:this.value,nativeOn:{input:this.inputHandler}}}):t("span",{directives:[{name:"vueuv-content"}]},[this.value]):this._v(this.value)},data:function(){return{isEdited:!1}},methods:{getIndexFromParent:function(){return this.contentRender.value.contents.indexOf(this.value)},enableEdit:function(){this.isEdited=!0},disableEdit:function(){this.$el.innerHTML;this.isEdited=!1},inputHandler:function(t){this.contentRender.splice(this.getIndexFromParent(),1,t.target.value),this.contentRender.refreshValue()}}},mn=vn,gn=Object(c["a"])(mn,hn,pn,!1,null,"65318238",null),bn=gn.exports,yn={name:"ContentExporter",props:{value:{type:[Object,String],required:!0}},render:function(t){var e=this,n=e.value;if("string"===typeof n)return e._v(n);var i=n.contents||[],s=i.map((function(e,n){return t("content-exporter",{props:{value:e},key:e.id})}));return t(n.tag||"div",{class:n.class||[],attrs:Object.assign({},e.$attrs,n.attrs||{},{id:n.id}),props:n.props||{}},s)}},Cn=yn,xn=Object(c["a"])(Cn,Te,Pe,!1,null,null,null),wn=xn.exports,$n=(n("38cf"),{name:"ContentRender",render:function(t){var e=this,n=this.value;if(n){var i={dblclick:this.activeContent,click:this.focusContent,mouseover:this.selectContent,"update:content":this.updateContentValue};if("string"===typeof n)return t("inner-text",{props:{value:n,contentRender:this},on:i});var s=n.props||{},o=Object.keys(s),a={};o.length&&(a=this.getPropsEvents(o));var r=n.contents||[],l=r.map((function(n){return"string"===typeof n?n:e.createChild(t,n)})),u=n.tag||"div";"img"===n.tag&&(u="basic-image");var c={id:this.getUid,"data-id":this.getUid,"data-title":this.getTag},d=Object.assign(a,i,{"update:content":this.updateContents}),f=Object.assign(n.attrs||{},c),h={class:[].concat(Object(m["a"])(n.class||[]),Object(m["a"])(this.selectorClass())),attrs:f,props:s,on:d,ref:"content",key:n.id};return t(u,h,l)}},inject:["$editor"],props:{value:{type:[Object,String],required:!0},parent:{type:Object}},data:function(){return{uid:null,isEdited:!1,isLabelBottom:!1,isGuided:!1,sortable:null}},computed:{isContentRender:function(){return!0},getValue:function(){return this.value},getState:function(){return this.$editor.states},selectedContent:{get:function(){return this.getState.selectedContent},set:function(t){if(this.isSorting)return!1;this.getState.selectedContent=t}},focusedContent:{get:function(){return this.getState.focusedContent},set:function(t){if(this.isSorting)return!1;this.getState.focusedContent=t}},isSorting:{get:function(){return this.getState.isSorting},set:function(t){this.getState.isSorting=t}},editingContent:{get:function(){return this.getState.editingContent||null},set:function(t){this.getState.editingContent=t}},selectedElement:{get:function(){return this.getState.selectedElement},set:function(t){this.getState.selectedElement=t}},contentStyleObject:{get:function(){return this.value.cssObject&&this.value.cssObject[this.$editor.getCurrentMedia]?this.value.cssObject[this.$editor.getCurrentMedia]:(this.$set(this.value,"cssObject",{}),this.$set(this.value.cssObject,"desktop",{}),this.$set(this.value.cssObject,"mobile",{}),this.$set(this.value.cssObject,"tablet",{}),this.value.cssObject)},set:function(t){this.$editor.setRollBackPoint(),this.setCssObject(t),this.updateContentValue(this.value)}},getCssTextToObject:function(){return it()(this.value.cssText||{},{camelCase:!1,numbers:!1})},getClass:function(){return[].concat(Object(m["a"])(this.value.class||[]),Object(m["a"])(this.selectorClass()))},getTag:function(){return this.value.tag||"div"},contentId:function(){return this.value.id},isSelectedContent:function(){return this.selectedContent&&this.selectedContent.id===this.contentId},isFocusedContent:function(){return!!this.focusedContent&&this.focusedContent.component===this},isEditing:function(){return!!this.editingContent&&(this.editingContent&&this.editingContent.component===this)},getUid:function(){return this.value.id},isStringType:function(){return"string"===typeof this.value},getAttrs:function(){return Object.assign(this.value.attrs||{},this.value.props||{})},getIndexFromParent:function(){return this.parent?this.parent.value.contents.map((function(t){return t.id})).indexOf(this.value.id):null},getCssObjectByMedia:function(){if(!this.value)return{};if(!this.value.cssObject)return this.$set(this.value,"cssObject",{}),this.value.cssObject;if(this.$editor.media.desktop)return this.value.cssObject["#"+this.value.id]||{};var t="";return this.$editor.media.mobile?(t=this.$editor.mediaQuery.mobile,this.value.cssObject[t]?this.value.cssObject[t]["#"+this.value.id]:{}):this.$editor.media.tablet?(t=this.$editor.mediaQuery.tablet,this.value.cssObject[t]?this.value.cssObject[t]["#"+this.value.id]:{}):{}}},methods:{attributeToCss:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object.entries(t).map((function(t){var i=Object(H["a"])(t,2),s=i[0],o=i[1],a="  ".repeat(n);if("object"===Object(b["a"])(o)){var r=e.attributeToCss(o,n+1);return"".concat(a).concat(s," {\n  ").concat(r,"\n  }\n")}return"".concat(a).concat(s,": ").concat(o,";\n")}))},setCssObject:function(t){var e=this.$editor.getCurrentMedia;this.value.cssObject[e]?this.value.cssObject[e]=Object.assign({},this.value.cssObject[e],t):this.$set(this.value.cssObject,e,t),this.changingUpdate()},objectToCss:function(){var t=this;if(!this.value.cssObject)return"";var e=Object.entries(this.value.cssObject).map((function(e){var n=Object(H["a"])(e,2),i=n[0],s=n[1];return s?[i+"{\n",t.attributeToCss(s),"}\n"]:""}));return e.join("").replace(/,/gi,"")},getPropsEvents:function(t){var e=this;return Object.fromEntries(t.map((function(t){return["update:"+t,function(n){e.$editor.setRollBackPoint(),e.$set(e.value.props,t,n)}]})))},refreshValue:function(){this.$emit("update:content",K(this.value))},changingUpdate:function(){this.$emit("update:content",K(this.value))},updateContentValue:function(t){this.$emit("update:content",K(t))},createChild:function(t,e){return t("content-render",{props:{value:e,parent:this},key:e.id})},selectorClass:function(){var t=[];return this.isEditing&&this.$editor.config.showGuide&&t.push("is-editable"),(this.isSelectedContent||this.isFocusedContent)&&this.$editor.config.showGuide&&t.push("is-selected"),this.isLabelBottom&&t.push("label-bottom"),(this.$editor.config.showGrid||this.$editor.states.isSorting)&&t.push("show-guide"),t},setUid:function(){this.isStringType||this.value.id||this.$set(this.value,"id",this.createUid())},deleteContent:function(){var t=this;if(!this.parent)return console.warn("Root cannot be removed"),!1;this.parent.value.contents=this.parent.value.contents.filter((function(e){return e.id!==t.value.id})),this.focusedContent=null,this.editingContent=null,this.selectedContent=null,this.parent.refreshValue()},getDataIdFrom:function(t){return t.target.getAttribute("data-id")},getParentContentRender:function(t){var e=t.parentNode;return e?e!==this.$el?this.getParentContentRender(e):this.$el:null},selectContent:function(t){var e=this;if(!this.focusedContent){if(!t.target!==this.$el){var n=this.getParentContentRender(t.target);if(n)return this.selectedContent={id:this.contentId,component:this},void t.stopPropagation()}if(this.getState.isSorting)return!1;this.selectedContent={id:this.contentId,component:this},this.$nextTick((function(){e.labelStyle()})),t.stopPropagation()}},focusContent:function(t){if(this.editingContent&&!this.isEditing&&(this.focusedContent=null,this.selectedContent=null,this.unsetEditingContent()),this.focusedContent&&this.focusedContent.id===this.contentId)this.focusedContent=null,this.selectedContent=null;else{if(t.target!==this.$el){var e=this.getParentContentRender(t.target);if(e)return this.focusedContent={id:this.contentId,component:this},void t.stopPropagation()}this.focusedContent={id:this.getDataIdFrom(t),component:this},this.selectedContent=null}t.stopPropagation()},activeContent:function(t){if(this.isEditing)return this.unsetEditingContent(),void t.stopPropagation();this.setEditingContentAsThis(),t.stopPropagation()},setEditingContentAsThis:function(){this.focusedContent={id:this.contentId,component:this},this.setEditingContent()},unsetEditingContent:function(){var t=this.editingContent.component;t.$refs["content"]&&t.$refs["content"].disableEdit?t.$refs["content"].disableEdit(this):this.isEdited=!1,this.getState.editingContent=null},setEditingContent:function(){this.selectedContent=null,this.editingContent=null,this.getState.editingContent={id:this.getUid,component:this},this.$refs["content"]&&this.$refs["content"].enableEdit?this.$refs["content"].enableEdit():this.isEdited=!0},setFocusedContent:function(){this.selectedContent=null,this.editingContent=null,this.getState.focusedContent={id:this.getUid,component:this}},createUid:function(){return N()},labelStyle:function(){var t=this.$el.getBoundingClientRect();this.isLabelBottom=t.y<20},updateContents:function(t){this.$editor.setRollBackPoint(),this.$emit("update:content",K(t))},move:function(t,e,n){var i=t[e];this.$delete(t,e),t.splice(n,0,i)},initSorting:function(){(this.value.contents||"div"===this.value.tag)&&(this.sortable=new le(this),this.sortable.init())}},created:function(){this.setUid()},mounted:function(){this.initSorting()}}),kn=$n,_n=(n("4a20"),Object(c["a"])(kn,Be,Me,!1,null,null,null)),jn=_n.exports,Sn=n("991b"),On={name:"ContentStyle",inject:["$editor"],render:function(t){return t("style",{attrs:{type:"text/css"},domProps:{innerHTML:this.getCode}})},computed:{responsibleStyles:function(){if(!this.$editor.config.editable)return"/** non-editable **/\n";var t=this.getCssByMedia(this.$editor.contentModel,"desktop");"tablet"===this.$editor.getCurrentMedia&&t.push(this.getCssByMedia(this.$editor.contentModel,"tablet")),"mobile"===this.$editor.getCurrentMedia&&t.push(this.getCssByMedia(this.$editor.contentModel,"mobile")),console.log(t);var e=Sn(t).filter((function(t){return t}));return e.join(" \n ")},parseContentStyles:function(){if(this.$editor.config.editable)return"/** editable **/";var t=this.cssObjectToCssText(this.$editor.contentModel),e=Sn(t).filter((function(t){return t}));return e.join(" \n ")},getCode:function(){return this.responsibleStyles+this.parseContentStyles}},methods:{getCssText:function(t){var e=this;return t.map((function(t){return"string"===typeof t?null:t.contents&&t.contents.length?[t.cssText].concat(Object(m["a"])(e.getCssText(t.contents))):t.cssText||null}))},getCssTextWithObject:function(t,e){return t.cssObject&&t.cssObject[e]?this.attributeToCss(Object(x["a"])({},"#"+t.id,t.cssObject[e])):null},getCssByMedia:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desktop";return"string"===typeof t?[null]:t.contents&&t.contents.length>0?[this.getCssTextWithObject(t,n)].concat(Object(m["a"])(t.contents.map((function(t){return e.getCssByMedia(t,n)})))):[this.getCssTextWithObject(t,n)]},attributeToCss:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="  ".repeat(n);return Object.keys(t).map((function(s){var o=t[s];if("object"===Object(b["a"])(o)){var a=e.attributeToCss(o,n+1);return"".concat(i).concat(s," {\n  ").concat(a,"\n  }\n")}return"".concat(i).concat(s,": ").concat(o,";\n")})).join("")},cssObjectToCssText:function(t){var e=this;if("string"===typeof t)return null;var n=Object.entries(t.cssObject).map((function(n){var i=Object(H["a"])(n,2),s=i[0],o=i[1];if(!o)return null;if("desktop"===s)return e.attributeToCss(Object(x["a"])({},"#"+t.id,o));var a=e.$editor.mediaQuery[s];return[a+"{\n",e.attributeToCss(Object(x["a"])({},"#"+t.id,o)),"}\n"].join("")}));return t.contents&&t.contents.length?[n].concat(Object(m["a"])(t.contents.map((function(t){return e.cssObjectToCssText(t)})))):n}}},En=On,Tn=Object(c["a"])(En,Ie,Fe,!1,null,null,null),Pn=Tn.exports,Bn=function(){function t(){Object(oe["a"])(this,t),this.Component=o["default"].extend(He),this.options={}}return Object(ae["a"])(t,[{key:"show",value:function(t){return this.options=Object.assign(t,{visible:!0}),this.render()}},{key:"render",value:function(){var t=this;return new Promise((function(e,n){t.instance=new t.Component({propsData:t.options}),t.instance.$on("update:visible",(function(e){t.instance.visible=!1})),t.instance.$on("success",(function(n){e(!0),setTimeout((function(){t.instance.$destroy()}),1e3)})),t.instance.$on("fail",(function(e){n(!1),setTimeout((function(){t.instance.$destroy()}),1e3)})),t.instance.$mount(),document.body.appendChild(t.instance.$el)}))}}]),t}(),Mn=n("e37d"),In={install:function(t,e){t.use(Mn["a"]),e.plugins.length>0&&(e.plugins.map((function(e){e.methods&&e.methods.enableEdit&&e.methods.disableEdit?e.name?t.component(e.name,e):console.warn("No name component. It cannot be registered."):console.warn(e.name+" cannot be registered. Vueuv Plugin must have [enableEdit, disableEdit] methods.")})),t.$vueuePlugins=e.plugins,t.prototype.$vueuvModal=new Bn),t.component(bn.name,bn),t.component(jn.name,jn),t.component(fn.name,fn),t.component(Pn.name,Pn),t.component(wn.name,wn),t.component(ne.name,ne),t.directive("vueuv-content",{bind:function(t,e,n){var i=n.context.$listeners;["click","dblclick","mouseover"].map((function(n){e.value&&e.value[n]?t.addEventListener(n,e.value[n]):i[n]&&t.addEventListener(n,i[n])}))}})}},Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{id:t.getEditorId},domProps:{innerHTML:t._s(t.value)}})},Rn=[],Vn=n("e562"),Ln=n.n(Vn);n("ec27"),n("0d68"),n("840a"),n("0a9d"),n("bc54"),n("fbbd"),n("62e5"),n("2fec"),n("ffbe"),n("6957f"),n("855b"),n("64d8"),n("0efa"),n("365e"),n("3154"),n("4ea8"),n("4237"),n("3aea"),n("0335"),n("07d7"),n("07d1"),n("c3d7"),n("2b07"),n("ebac"),n("eda9"),n("d2dc"),n("ef37"),n("4bd0"),n("0902"),n("84ec"),n("9434"),n("8863"),n("78e4"),n("cfb0"),n("0aa0"),n("90e7"),n("7193");n("0342");var Hn={name:"TextContent",label:"문단",contentDefault:{class:["p-2"],props:{value:"New paragraph"}},props:{value:{type:String}},data:function(){return{editor:null,contentId:null}},methods:{enableEdit:function(){this.loadEditor()},disableEdit:function(){this.editor&&(this.$emit("update:value",this.editor.getContent()),this.editor.hide())},loadEditor:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.editor){e.next=3;break}return t.editor.show(),e.abrupt("return");case 3:return n=t.$el.getAttribute("id"),e.next=6,Ln.a.init({selector:"#"+n,menubar:!1,inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],font_formats:"Noto Sans KR=Noto Sans KR,sans-serif;",toolbar:"undo redo | fontselect fontsizeselect formatselect | bold italic backcolor | forecolor backcolor casechange permanentpen formatpainter removeformat | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | help",inline_styles:!0});case 6:i=e.sent,t.editor=i[0];case 8:case"end":return e.stop()}}),e)})))()}},computed:{getEditorId:function(){return this.value.id||this._uid}}},An=Hn,Dn=Object(c["a"])(An,Fn,Rn,!1,null,"dcec6792",null),Nn=Dn.exports,Wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isEdited?n("div",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content.stop",value:{dblclick:function(t){t.stopPropagation()}},expression:"{dblclick:(e)=>{ e.stopPropagation(); }}",modifiers:{stop:!0}}],staticClass:"relative"},[n("img",{attrs:{alt:t.alt,src:t.src}}),n("div",{staticClass:"absolute",staticStyle:{height:"80px","z-index":"100",background:"rgba(0,0,0, .5)"},style:t.getEditorStyle},[n("div",{staticClass:"flex justify-center items-center h-full p-2"},[n("input",{staticClass:"w-full",attrs:{id:"src"},domProps:{value:t.src},on:{change:function(e){t.$emit("update:src",e.target.value)}}}),n("vu-button",{on:{click:function(e){return e.stopPropagation(),t.disableEdit(e)}}},[t._v(" Save")])],1)])]):n("img",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{alt:t.alt,src:t.src}})},Un=[],Kn={name:"BasicImage",label:"이미지",components:{VuButton:L},contentDefault:{class:["p-2"],props:{src:"https://via.placeholder.com/150",alt:"Image"}},props:{alt:String,src:String},data:function(){return{isEdited:!1}},methods:{enableEdit:function(){this.isEdited=!0},disableEdit:function(){this.isEdited=!1}},computed:{getEditorStyle:function(){return{width:this.$el.clientWidth+"px"}}}},Gn=Kn,qn=Object(c["a"])(Gn,Wn,Un,!1,null,"41aa9c51",null),zn=qn.exports,Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isEdited?n("v-popover",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{trigger:"manual",open:t.isEdited,offset:"16","auto-hide":!1}},[n("a",[t._t("default",[t._v(t._s(t.text))])],2),n("template",{slot:"popover"},[n("ev-form",{attrs:{value:{href:t.href,text:t.text}}},[n("ev-input",{attrs:{label:"Href",value:t.href},on:{change:function(e){t.$emit("update:href",e),t.disableEdit()}}}),n("ev-input",{attrs:{label:"Text",value:t.text},on:{change:function(e){t.$emit("update:text",e),t.disableEdit()}}})],1)],1)],2):t.$editor.config.editable?n("a",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"},{name:"tooltip",rawName:"v-tooltip",value:{content:"Address:"+t.href},expression:"{content: 'Address:' + href}"}]},[t._t("default",[t._v(t._s(t.text))])],2):n("a",{attrs:{href:t.href}},[t._t("default",[t._v(t._s(t.text))])],2)},Qn=[],Zn={name:"Anchor",components:{EvInput:vt},inject:["$editor"],label:"링크",contentDefault:{class:["p-2"],props:{href:"/test",text:"링크"},contents:[]},props:{href:String,text:String},computed:{getAttrs:function(){return this.value}},data:function(){return{isEdited:!1}},methods:{enableEdit:function(){this.isEdited=!0},disableEdit:function(){this.isEdited=!1},changeHref:function(t){this.$emit("update:href",t.target.value),this.disableEdit()}}},Xn=Zn,Yn=(n("fd18"),Object(c["a"])(Xn,Jn,Qn,!1,null,null,null)),ti=Yn.exports;n("ba8c"),n("8f2f");o["default"].use(h["a"]),o["default"].use(In,{plugins:[Nn,zn,ti]}),o["default"].config.productionTip=!1;var ei=new o["default"]({render:function(t){return t(f)}}).$mount("#app");e["default"]=ei},d18d:function(t,e,n){},eda6:function(t,e,n){"use strict";n("3348")},f924:function(t,e,n){"use strict";n("319a")},fd18:function(t,e,n){"use strict";n("1501")}});
//# sourceMappingURL=app.f4744e6b.js.map