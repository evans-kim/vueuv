(function(t){function e(e){for(var i,r,a=e[0],c=e[1],u=e[2],d=0,h=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vueuv/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"01aa":function(t,e,n){},"0a3a":function(t,e,n){},"2e56":function(t,e,n){},"3a61":function(t,e,n){},"4cde":function(t,e,n){"use strict";n("0a3a")},"5f19":function(t,e,n){"use strict";n("8f1d")},"72fd":function(t,e,n){},"74c8":function(t,e,n){"use strict";n("01aa")},"8f1d":function(t,e,n){},"8f2f":function(t,e,n){},"93fb":function(t,e,n){"use strict";n("72fd")},ac26:function(t,e,n){"use strict";n("bd8c")},b68c:function(t,e,n){"use strict";n("bb0a")},ba8c:function(t,e,n){},bb0a:function(t,e,n){},bd8c:function(t,e,n){},c953:function(t,e,n){"use strict";n("3a61")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,o,s,r,a=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative bg-gray-200 min-h-screen",attrs:{id:"app"}},[n("vueuv-editor",{attrs:{target:"test-promotion-page"},model:{value:t.html,callback:function(e){t.html=e},expression:"html"}}),n("SmallPage",{attrs:{id:"test-promotion-page"}})],1)},u=[],l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cms-thumbnail-box fixed-margin",attrs:{id:"igele"}},[n("div",{staticClass:"cms-thumbnail-title",attrs:{id:"i6tqa"}},[n("h5",{staticClass:"price-title",attrs:{id:"i600v"}},[t._v("3만원 이상")])]),n("div",{staticClass:"cms-thumbnail-list",attrs:{id:"iaas8"}},[n("div",{staticClass:"cms-thumbnail-item"},[n("img",{staticClass:"cms-thumbnail-img",attrs:{src:"https://image.candleworks.com/cms-manager/3/00ZoBh18LdXdLmPMoJfQdlJs9NKHyYqm7ovN4Kyw.jpeg",id:"ii40p"}})]),n("div",{staticClass:"cms-thumbnail-item"},[n("img",{staticClass:"cms-thumbnail-img",attrs:{src:"https://image.candleworks.com/cms-manager/3/2x6N8mrlDmOau5dllEETf1es39cmW6cmxocInyUf.jpeg"}})]),n("div",{staticClass:"cms-thumbnail-item"},[n("img",{staticClass:"cms-thumbnail-img",attrs:{src:"https://image.candleworks.com/cms-manager/3/bHhznOEJZWDVSEED6LYNJn9InbyvpLX3wSY41Sfn.jpeg"}}),n("div",{staticClass:"cursor-pointer",attrs:{id:"itjn4u",title:""}},[n("div",{attrs:{id:"ivgqzs"}}),n("div",{attrs:{id:"iuhcb7"}},[n("h4",{staticClass:"cms-thumbnail-item-title"},[t._v("버드 디퓨저 세라믹")])])])]),n("div",{staticClass:"cms-thumbnail-item"},[n("img",{staticClass:"cms-thumbnail-img",attrs:{src:"https://image.candleworks.com/cms-manager/3/N8ukyMZUfsWXg5MnhdSrcB1qst0vyliE82ujmev3.jpeg"}}),n("div",{staticClass:"cursor-pointer",attrs:{id:"i63pi2",title:""}},[n("div",{attrs:{id:"is0xki"}},[n("div",{staticClass:"absolute left-0 top-0 w-full h-full flex items-center justify-center",attrs:{id:"i3vvo3"}},[n("h4",{staticClass:"text-white"},[t._v("증정종료")])])]),n("div",{attrs:{id:"iovlji"}},[n("h4",{staticClass:"cms-thumbnail-item-title"},[t._v("온도계")])])])])])])}],h={name:"SmallPage"},f=h,p=(n("74c8"),n("2877")),g=Object(p["a"])(f,l,d,!1,null,null,null),v=g.exports,m={name:"VuePageBuilder",components:{SmallPage:v},data:function(){return{html:null}}},b=m,C=Object(p["a"])(b,c,u,!1,null,null,null),y=C.exports,x=n("a6f4"),S=(n("d81d"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getEditorClass,staticStyle:{position:"relative"},on:{click:function(e){return e.stopPropagation(),t.setDefaultSelect(e)}}},[n("menubar"),t.isEditable?n("content-render",{key:t.renderKey,ref:"render",attrs:{value:t.contentModel},on:{input:t.handleRenderInput}}):t._e(),t.isEditable?t._e():n("content-exporter",{ref:"exporter",attrs:{value:t.contentModel}}),n("content-style",{ref:"style",attrs:{content:t.contentModel,"raw-css":t.css}}),n("helper",{ref:"helper",on:{"update:content-value":t.updateFocusedContent}}),n("pop-label",{ref:"selectLabel",attrs:{content:t.states.selectedContent}}),n("pop-label",{ref:"label",attrs:{content:t.states.focusedContent}}),n("pop-label",{ref:"label",attrs:{content:t.states.editingContent,color:"orange"}}),n("div",{staticClass:"whitespace-pre"},[t._v(" "+t._s(t.contentModel)+" ")])],1)}),w=[],k=(n("99af"),n("a630"),n("a434"),n("a9e3"),n("c1f9"),n("d3b7"),n("3ca3"),n("ddb0"),n("2909")),$=(n("96cf"),n("1da1")),_=n("53ca"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("style",{tag:"component",attrs:{type:"text/css"}},[t._v(" "+t._s(t.parseContentStyles)+" ")])},B=[],T=(n("a15b"),n("991b")),j={name:"ContentStyle",props:{content:{type:Object},rawCss:{type:String}},computed:{parseContentStyles:function(){var t=T(this.getCssText(this.content.contents));return[this.content.cssText].concat(Object(k["a"])(t)).join("\n\n")}},methods:{getCssText:function(t){var e=this;return t.map((function(t){return t.contents&&t.contents.length?e.getCssText(t.contents):t.cssText||null}))}}},O=j,P=Object(p["a"])(O,E,B,!1,null,null,null),I=P.exports,R=a["default"].extend({name:"ContentExporter",props:{value:{type:[Object,String],required:!0}},render:function(t){var e=this,n=e.value;if("string"===typeof n)return e._v(n);var i=n.contents||[],o=i.map((function(e,n){return t("content-exporter",{props:{value:e},key:n})}));return t(n.tag,{class:n.class||[],style:n.style||{},attrs:Object.assign(n.attrs||{},n.props||{}),props:n.props||{}},o)}}),M=R,L=Object(p["a"])(M,i,o,!1,null,"5ee86010",null),F=L.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade-in-out",mode:"out-in"}},[t.isLayoutComponent?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isSorting,expression:"!isSorting"}],style:t.getStyle},[n("div",{staticClass:"m-2"},[n("div",{staticClass:"flex"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.getStyle.opacity,expression:"getStyle.opacity"}],attrs:{type:"range",min:"0.1",max:"1",step:"0.01"},domProps:{value:t.getStyle.opacity},on:{__r:function(e){return t.$set(t.getStyle,"opacity",e.target.value)}}})])]),n("div",{staticClass:"flex justify-start mb-1"},[n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("class"),on:{click:function(e){t.activeTab="class"}}},[t._v("Class ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("style"),on:{click:function(e){t.activeTab="style"}}},[t._v("Style ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("controller"),on:{click:function(e){t.activeTab="controller"}}},[t._v("Layout ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",class:t.activeClass("tree"),on:{click:function(e){t.activeTab="tree"}}},[t._v("Structure ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.addContents(e)}}},[t._v("Add ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.deleteContents(e)}}},[t._v("Remove ")]),n("button",{staticClass:"helper-button rounded border mr-1 bg-white shadow focus:outline-none",on:{click:function(e){return e.stopPropagation(),t.copy(e)}}},[t._v("Copy ")])]),n("div",{staticClass:"panel-body p-2 bg-white shadow rounded",staticStyle:{"max-width":"40rem"}},["class"===t.activeTab?n("div",[n("class-tag-input",{attrs:{value:t.getTargetClasses},on:{input:t.classHandler}})],1):t._e(),"style"===t.activeTab?n("div",[n("div",{staticStyle:{"min-width":"10rem"}},[t._v(" 클래스 : "),t._l(t.getTargetClasses,(function(e,i){return n("vu-button",{key:i,on:{click:function(n){return n.stopPropagation(),t.addClassToCssText(e)}}},[t._v(t._s(e)+" ")])})),t._v(" ID : "),n("vu-button",{on:{click:function(e){return e.stopPropagation(),t.addIdSelectorToCssText(e)}}},[t._v("#"+t._s(t.focusedContent.value.id))])],2),n("code-editor",{model:{value:t.getTargetStyleText,callback:function(e){t.getTargetStyleText=e},expression:"getTargetStyleText"}})],1):t._e(),"controller"===t.activeTab?n("div",[n("vu-button",{on:{click:t.toggleDisplay}},[t._v(" flex")]),t._v(" | "),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","flex-start")}}},[t._v(" left")]),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","center")}}},[t._v(" center")]),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","flex-end")}}},[t._v(" right")]),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","space-between")}}},[t._v(" around")]),n("vu-button",{on:{click:function(e){return t.setStyle("justify-content","space-around")}}},[t._v(" between")]),t._v(" | "),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","flex-start")}}},[t._v(" top")]),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","baseline")}}},[t._v(" Baseline")]),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","center")}}},[t._v(" center")]),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","flex-end")}}},[t._v(" bottom")]),n("vu-button",{on:{click:function(e){return t.setStyle("align-items","stretch")}}},[t._v(" stretch")]),t._v(" | "),n("vu-button",{on:{click:function(e){return t.setStyle("flex-direction","row")}}},[t._v(" Row")]),n("vu-button",{on:{click:function(e){return t.setStyle("flex-direction","column")}}},[t._v(" Column")])],1):t._e(),"tree"===t.activeTab?n("div",{ref:"structure",staticStyle:{"max-height":"300px","overflow-y":"auto"}},[n("content-tree",{model:{value:t.$editor.contentModel.contents,callback:function(e){t.$set(t.$editor.contentModel,"contents",e)},expression:"$editor.contentModel.contents"}})],1):t._e()])])]):t._e()])},V=[],D=(n("c975"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-input-wrapper bg-white p-2 border shadow flex justify-start flex-wrap",on:{click:function(e){return e.stopPropagation(),t.focusInput(e)}}},[t._l(t.value,(function(e,i){return n("span",{key:i,staticClass:"m-1 mt-0 p-1 border rounded bg-gray-200 cursor-pointer hover:bg-gray-300 shadow",on:{click:function(e){return e.stopPropagation(),t.removeItem(i)}}},[t._v(" "+t._s(e)+" ")])})),n("input",{ref:"input",staticClass:"tag-input-input",attrs:{type:"text"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputHandler(e)}}})],2)}),A=[],H=(n("4de4"),n("eed6")),U={name:"ClassTagInput",props:{value:{type:Array}},methods:{inputHandler:function(t){var e=t.target.value;this.$emit("input",H([].concat(Object(k["a"])(this.value),[e]).filter((function(t){return t})))),t.target.value=""},removeItem:function(t){this.value.splice(t,1)},focusInput:function(t){this.$refs["input"].focus()}}},K=U,G=(n("93fb"),Object(p["a"])(K,D,A,!1,null,"52b55fbd",null)),z=G.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("prism-editor",t._g(t._b({staticClass:"my-editor",attrs:{highlight:t.highlighter}},"prism-editor",t.$attrs,!1),t.$listeners))},q=[],W=n("e57a"),Z=(n("cabf"),n("8c7a")),X=(n("cb55"),n("416b"),n("6605"),n("92bf"),{name:"CodeEditor",components:{PrismEditor:W["a"]},methods:{highlighter:function(t){return Object(Z["highlight"])(t,Z["languages"].js)}}}),Y=X,Q=(n("b68c"),Object(p["a"])(Y,J,q,!1,null,null,null)),tt=Q.exports,et={name:"VuButton",functional:!0,render:function(t,e){var n=e.data;return n.class=["p-2","shadow-md","border","inline-block","focus:outline-none","shadow-md"],n.attrs&&n.attrs.color?(n.class.push("bg-".concat(n.attrs.color,"-600")),n.class.push("text-white")):n.class.push("bg-white"),t("button",n,e.children)}},nt=et,it=Object(p["a"])(nt,s,r,!1,null,null,null),ot=it.exports,st=(n("25f0"),n("0644")),rt=n.n(st);function at(){return Math.random().toString(36).substr(2,6)}function ct(t){t.id=at(),t.contents&&t.contents.map((function(t){ct(t)}))}function ut(t){var e=rt()(t);return ct(e),e}var lt,dt,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasContents(t.value)?n("draggable",{attrs:{tag:"ul",group:"content-tree","ghost-class":"ghost",handle:".node-handler",animation:"300",value:t.value},on:{input:function(e){t.$emit("input",e)}}},t._l(t.value,(function(e,i){return n("li",{key:i,staticClass:"pl-3"},[e&&e.id?n("div",{staticClass:"node",class:{"selected-tag":t.isFocused(e.id)},style:t.getStyle(e)},[n("span",{staticClass:"node-handler p-2",on:{click:function(n){return n.stopPropagation(),t.setSelectedContentById(e.id)},dblclick:function(n){return n.stopPropagation(),t.setEditingContentById(e.id)}}},[t._v(" :: ")]),t._v(" "+t._s(e.tag)+"#"+t._s(e.id)+" "),t.hasChildren(e)?n("span",{staticClass:"toggle",on:{click:function(){t.isOpen=!t.isOpen}}},[t._v(" "+t._s(t.isOpen?"-":"+")+" ")]):t._e()]):t._e(),t.hasChildren(e)?[n("content-tree",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],model:{value:e.contents,callback:function(n){t.$set(e,"contents",n)},expression:"com.contents"}})]:t._e()],2)})),0):t._e()},ft=[],pt=n("b76a"),gt=n.n(pt),vt={name:"ContentTree",components:{draggable:gt.a},inject:["$editor"],data:function(){return{isOpen:!0}},props:{value:{type:Array,default:function(){return[]}}},computed:{getStates:function(){return this.$editor.states}},methods:{isFocused:function(t){return this.getStates.focusedContent&&this.getStates.focusedContent.id===t},isSelected:function(t){return this.getStates.selectedContent&&this.getStates.selectedContent===t},hasContents:function(t){return t&&t.length>0},getStyle:function(t){var e={};return this.isFocused(t.id)&&(e.background="green",e.color="white"),this.isSelected(t.id)&&(e.background="green",e.color="white"),e},setSelectedContentById:function(t){if(t){var e=this.$editor.getContentRenderById(t,this.$editor.$refs.render);e.setFocusedContent()}},setEditingContentById:function(t){if(t){var e=this.$editor.getContentRenderById(t,this.$editor.$refs.render);e.setEditingContent()}},hasChildren:function(t){return t.contents&&t.contents.length}}},mt=vt,bt=(n("c953"),Object(p["a"])(mt,ht,ft,!1,null,"4ad7fcb3",null)),Ct=bt.exports,yt={name:"Helper",inject:["$editor"],components:{ContentTree:Ct,CodeEditor:tt,ClassTagInput:z,VuButton:ot},data:function(){return{activeTab:"tree",getStyle:{display:"none",justifyContent:"baseline",position:"absolute",padding:"0.5rem",left:0,right:"auto",top:0,zIndex:10,opacity:1},pointer:{x:0,y:0}}},watch:{activeTab:function(t){var e=this;"tree"===t&&this.$nextTick((function(){e.scrollMoveToSelectedContent()}))},contentFocused:function(t){this.isLayoutComponent?this.setPosition(document.getElementById(t.id)):this.hide()},isSorting:function(){var t=this;this.contentFocused&&this.$nextTick((function(){t.setPosition(document.getElementById(t.contentFocused.id))}))}},computed:{focusedContent:function(){return this.$editor.states.focusedContent?this.$editor.states.focusedContent.component:null},getTargetClasses:function(){return this.focusedContent.value.class||[]},getTargetStyleText:{get:function(){return this.focusedContent.value.cssText||""},set:function(t){this.updateFocusedValue(t,"cssText")}},getContentModel:function(){return this.$editor.contentModel},contentFocused:function(){return this.$editor.states.focusedContent},isSorting:function(){return this.$editor.states.isSorting||this.$editor.states.editingContent},isLayoutComponent:function(){return this.contentFocused&&this.focusedContent},getIndexFromParent:function(){return this.focusedContent.parent?this.focusedContent.parent.value.contents.map((function(t){return t.id})).indexOf(this.focusedContent.value.id):null}},methods:{updateValue:function(t){this.focusedContent.updateContentValue(t)},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},updateFocusedValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$editor.setRollBackPoint();var n=this.focusedContent.value;e?(this.$set(n,e,t),this.updateValue(n)):this.updateValue(t)},hide:function(){this.getStyle.display="none"},setPosition:function(t){var e=this;return Object($["a"])(regeneratorRuntime.mark((function n(){var i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.$editor.$el.getBoundingClientRect(),o=t.getBoundingClientRect(),e.getStyle.display="absolute",e.getStyle.left=o.x+"px",e.getStyle.right="auto",e.getStyle.top=o.y-i.y+o.height+10+"px",e.getStyle.display="flex",e.getStyle.opacity=1,n.next=10,e.$nextTick((function(){var t=e.$el.getBoundingClientRect(),n=window.innerWidth-(t.x+t.width)-100;n<0?(e.getStyle.left="auto",e.getStyle.right="20px"):e.getStyle.right="auto"}));case 10:case"end":return n.stop()}}),n)})))()},scrollMoveToSelectedContent:function(){var t=this.$refs["structure"],e=t.getElementsByClassName("selected-tag");if(e.length){var n=e[0],i=n.getBoundingClientRect(),o=t.getBoundingClientRect(),s=i.y-o.y+t.scrollTop-20;s<0&&(s=0),t.scrollTo({top:s})}},classHandler:function(t){this.updateFocusedValue(t,"class")},activeClass:function(t){return this.activeTab===t?["active"]:[]},setStyle:function(t,e){this.focusedContent.value.style||this.$set(this.focusedContent.value,"style",{}),this.$set(this.focusedContent.value.style,t,e)},toggleDisplay:function(){this.focusedContent.value.style&&"flex"===this.focusedContent.value.style.display?this.setStyle("display","flow-root"):this.setStyle("display","flex")},addContents:function(){var t=this;if(this.$editor.setRollBackPoint(),!this.focusedContent.value.contents)return this.focusedContent.parent.value.contents.map((function(e,n){e.id===t.focusedContent.value.id&&t.focusedContent.parent.value.contents.splice(n+1,0,{tag:"div",id:at(),class:["p-2"],contents:["새로운 열"]})})),this.$editor.config.showGrid=!0,void this.$editor.refreshKey();this.$set(this.focusedContent.value.contents,this.focusedContent.value.contents.length,{tag:"div",id:at(),class:["p-2"],contents:["새로운 행"]}),this.$editor.config.showGrid=!0},deleteContents:function(){this.$editor.setRollBackPoint(),this.focusedContent.deleteContent()},copy:function(){var t=this;this.$editor.setRollBackPoint();var e=0;this.focusedContent.parent.value.contents.map((function(n,i){t.focusedContent.value===n&&(e=i)}));var n=ut(this.focusedContent.value);this.focusedContent.parent.value.contents.splice(e,0,n)},addIdSelectorToCssText:function(){var t="\n#"+this.focusedContent.value.id+"{\n  \n}";this.focusedContent.value.cssText?this.focusedContent.value.cssText+=t:this.getTargetStyleText=t},addClassToCssText:function(t){var e="\n."+t+"{\n  \n}";this.focusedContent.value.cssText?this.focusedContent.value.cssText+=e:this.getTargetStyleText=e}}},xt=yt,St=(n("e3da"),Object(p["a"])(xt,N,V,!1,null,"0d792608",null)),wt=St.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex border shadow mb-4 p-2 bg-white"},[n("div",{staticClass:"bold text-2xl px-2"},[t._v(" Vueuv Editor ")]),n("div",{ref:"sortable",staticClass:"flex"},t._l(t.getBlocks,(function(e,i){return n("div",{key:i,staticClass:"bg-white p-2 shadow-md border inline-block",attrs:{"data-block-index":i}},[t._v(" "+t._s(e.label)+" ")])})),0),n("vu-button",{on:{click:t.toggleGrid}},[n("i",{staticClass:"icofont icofont-eye"})]),n("vu-button",{on:{click:t.exportEditor}},[n("i",{staticClass:"icofont icofont-save"})]),n("vu-button",{on:{click:t.undoContent}},[n("i",{staticClass:"icofont icofont-undo"})])],1)},$t=[],_t=(n("ac1f"),n("5319"),n("d4ec")),Et=n("bee2"),Bt=n("8a23"),Tt=function(){function t(e,n){var i=this;if(Object(_t["a"])(this,t),this.vue=e,this.options={group:"content-render",ghostClass:"vueuv-ghost",animation:300},this.vue.value&&this.vue.value.contents){var o={onStart:function(t){i.onStart(t)},onEnd:function(t){i.onEnd(t)},onAdd:function(t){i.onAdd(t)},onRemove:function(t){i.onRemove(t)},onUpdate:function(t){i.onUpdate(t)}};this.options=Object.assign(this.options,o)}n&&(this.options=Object.assign(this.options,n))}return Object(Et["a"])(t,[{key:"setEvent",value:function(t,e){this.options[t]=function(t){e(t)}}},{key:"init",value:function(t){this._sortable=Bt["a"].create(t||this.vue.$el,this.options)}},{key:"parseEvent",value:function(t,e){return{type:e,item:t.item.getAttribute("data-id"),from:t.from.getAttribute("data-id"),to:t.to.getAttribute("data-id"),oldIndex:t.oldIndex||0,newIndex:t.newIndex||0}}},{key:"idRecreate",value:function(t){var e=this;t.id=at(),t.contents&&t.contents.map((function(t){e.idRecreate(t)}))}},{key:"addRollbackFunction",value:function(){this.editor.setRollBackPoint()}},{key:"onStart",value:function(t){this.vue.$editor.states.isSorting=!0}},{key:"onEnd",value:function(t){this.vue.$editor.states.isSorting=!1}},{key:"onAdd",value:function(t){var e=this.parseEvent(t,"add"),n={};n=this.editor.hasDragBlock()?st(this.editor.states.dragBlock):this.editor.getContentValueById(e.item),this.addRollbackFunction(),this.vue.value.contents.splice(e.newIndex,0,n),this.vue.updateContents(this.vue.value)}},{key:"onRemove",value:function(t){var e=this.parseEvent(t,"remove");this.addRollbackFunction(),this.vue.value.contents.splice(e.oldIndex,1),this.vue.updateContents(this.vue.value)}},{key:"onUpdate",value:function(t){var e=this.parseEvent(t,"update");this.addRollbackFunction(),this.vue.move(this.vue.value.contents,e.oldIndex,e.newIndex),this.vue.updateContents(this.vue.value)}},{key:"editor",get:function(){return this.vue.$editor}}]),t}(),jt={name:"Menubar",inject:["$editor"],components:{VuButton:ot},computed:{getBlocks:function(){return a["default"].$vueuePlugins},isSorting:{get:function(){return this.$editor.states.isSorting},set:function(t){this.$editor.states.isSorting=t}}},methods:{toggleGrid:function(){this.$editor.config.showGrid=!this.$editor.config.showGrid},deepCopy:function(t){var e=st(t);return e.id=at(),e},exportEditor:function(){"editable"===this.$editor.config.mode?this.$editor.showRawCode():this.$editor.config.mode="editable"},undoContent:function(){this.$editor.undo()},camelToSnakeCase:function(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))},initSorting:function(){var t=new Tt(this,{sort:!1,group:{name:"content-render",pull:"clone",put:!1},setData:function(e,n){var i=n.getAttribute("data-block-index"),o=st(t.vue.getBlocks[i].contentDefault);o.id=at(),o.tag=t.vue.camelToSnakeCase(t.vue.getBlocks[i].name).substring(1),console.log(o),t.vue.$editor.states.dragBlock=o},onEnd:function(){t.vue.$editor.states.dragBlock=null,t.vue.$editor.refreshKey()}});t.init(this.$refs["sortable"])}},mounted:function(){this.initSorting()}},Ot=jt,Pt=Object(p["a"])(Ot,kt,$t,!1,null,"536ca2e4",null),It=Pt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.getLabel?n("div",{style:t.tagStyle},[n("div",{staticStyle:{position:"relative"}},[n("span",{staticClass:"pop-tag",style:{backgroundColor:t.color}},[t._v(t._s(t.getLabel.value.tag)+"#"+t._s(t.getLabel.value.id))]),t.bordered?n("div",{staticClass:"pop-border",style:t.topBorder}):t._e(),t.bordered?n("div",{staticClass:"pop-border",style:t.rightBorder}):t._e(),t.bordered?n("div",{staticClass:"pop-border",style:t.bottomBorder}):t._e(),t.bordered?n("div",{staticClass:"pop-border",style:t.leftBorder}):t._e()])]):t._e()},Mt=[],Lt={name:"PopLabel",inject:["$editor"],props:{content:{type:[Object,String]},color:{type:String,default:"#42b983"},bordered:{type:Boolean,default:!1}},watch:{getLabel:function(t){if(t){var e=this.$editor.$el.getBoundingClientRect(),n=this.content.component.$el.getBoundingClientRect();this.setBorder(n),this.tagStyle.top=n.y-e.y-20+"px",this.tagStyle.left=n.x-e.x-2+"px"}}},computed:{getLabel:function(){return this.content?this.content.component:null}},data:function(){return{offset:{x:2,y:18},labelStyle:{},tagStyle:{position:"absolute",color:"white",fontSize:"12px"},topBorder:{},leftBorder:{},rightBorder:{},bottomBorder:{}}},methods:{setBorder:function(t){this.topBorder.top="18px",this.topBorder.left=0,this.topBorder.height="2px",this.topBorder.width=t.width+"px",this.topBorder.backgroundColor=this.color,this.bottomBorder.top=18+t.height+"px",this.bottomBorder.left=0,this.bottomBorder.height="2px",this.bottomBorder.width=t.width+"px",this.bottomBorder.backgroundColor=this.color,this.leftBorder.top="18px",this.leftBorder.left=0,this.leftBorder.height=t.height+"px",this.leftBorder.width="2px",this.leftBorder.backgroundColor=this.color,this.rightBorder.top="18px",this.rightBorder.left=t.width+"px",this.rightBorder.height=t.height+2+"px",this.rightBorder.width="2px",this.rightBorder.backgroundColor=this.color}}},Ft=Lt,Nt=(n("ac26"),Object(p["a"])(Ft,Rt,Mt,!1,null,"2bb060ac",null)),Vt=Nt.exports,Dt=(n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{contentEditable:t.isEdited},domProps:{innerHTML:t._s(t.value)}})}),At=[],Ht={name:"InnerText",label:"기본텍스트",contentDefault:null,props:{value:{type:String}},data:function(){return{isEdited:!1}},methods:{enableEdit:function(){console.log("on"),this.isEdited=!0},disableEdit:function(){var t=this.$el.innerHTML;this.$emit("update:value",t),this.isEdited=!1}}},Ut=Ht,Kt=Object(p["a"])(Ut,Dt,At,!1,null,"6f087347",null),Gt=Kt.exports,zt={name:"ContentRender",render:function(t){var e=this,n=this.value;if(n){var i={dblclick:this.activeContent,click:this.focusContent,mouseover:this.selectContent},o=n.props||{},s=Object.keys(o),r={};s.length&&(r=this.getPropsEvents(s));var a=n.contents||[],c=a.map((function(n){return"string"===typeof n?n:e.createChild(t,n)})),u=n.tag||"div";"img"===n.tag&&(u="basic-image");var l={id:this.getUid,"data-id":this.getUid,"data-title":this.getTag},d=Object.assign(r,i),h=Object.assign(n.attrs||{},o,l),f={class:[].concat(Object(k["a"])(n.class||[]),Object(k["a"])(this.selectorClass())),style:n.style||{},attrs:h,props:o,on:d,ref:"content",key:n.id};return t(u,f,c)}},components:{InnerText:Gt,CodeEditor:tt},inject:["$editor"],props:{value:{type:[Object,String],required:!0},parent:{type:Object}},data:function(){return{uid:null,isEdited:!1,isLabelBottom:!1,isGuided:!1,sortable:null}},computed:{getValue:function(){return this.value},getState:function(){return this.$editor.states},selectedContent:{get:function(){return this.getState.selectedContent},set:function(t){if(this.isDragging)return!1;this.getState.selectedContent=t}},focusedContent:{get:function(){return this.getState.focusedContent},set:function(t){if(this.isDragging)return!1;this.getState.focusedContent=t}},isSorting:{get:function(){return this.getState.isSorting},set:function(t){this.getState.isSorting=t}},editingContent:{get:function(){return this.getState.editingContent||null},set:function(t){this.getState.editingContent=t}},selectedElement:{get:function(){return this.getState.selectedElement},set:function(t){if(this.isDragging)return!1;this.getState.selectedElement=t}},getClass:function(){return Object(k["a"])(this.value.class)},getTag:function(){return this.value.tag||"text"},contentId:function(){return this.value.id},isSelectedContent:function(){return this.selectedContent&&this.selectedContent.id===this.contentId},isFocusedContent:function(){return!!this.focusedContent&&this.focusedContent.component===this},isEditing:function(){return!!this.editingContent&&(this.editingContent&&this.editingContent.component===this)},getUid:function(){return this.value.id},getContent:function(){return this.$refs["content"]},isStringType:function(){return"string"===typeof this.value},getAttrs:function(){return Object.assign(this.value.attrs||{},this.value.props||{})},getIndexFromParent:function(){return this.parent?this.parent.value.contents.map((function(t){return t.id})).indexOf(this.value.id):null}},methods:{getPropsEvents:function(t){var e=this;return Object.fromEntries(t.map((function(t){return["update:"+t,function(n){e.$editor.setRollBackPoint(),e.$set(e.value.props,t,n)}]})))},updateContentValue:function(t){this.$set(this.parent.value.contents,this.getIndexFromParent,t)},createChild:function(t,e){return t("content-render",{props:{value:e,parent:this},key:e.id})},selectorClass:function(){var t=[];return this.isEditing&&t.push("is-editable"),(this.isSelectedContent||this.isFocusedContent)&&t.push("is-selected"),this.isLabelBottom&&t.push("label-bottom"),(this.$editor.config.showGrid||this.$editor.states.isSorting)&&t.push("show-guide"),this.isGuided&&t.push("hide-guide"),t},setUid:function(){this.isStringType||this.value.id||this.$set(this.value,"id",this.createUid())},deleteContent:function(){var t=this;if(!this.parent)return console.warn("Root cannot be removed"),!1;this.parent.value.contents=this.parent.value.contents.filter((function(e){return e.id!==t.value.id})),this.focusedContent=null,this.editingContent=null,this.selectedContent=null},getDataIdFrom:function(t){return t.target.getAttribute("data-id")},getParentContentRender:function(t){var e=t.parentNode;return e?e!==this.$el?this.getParentContentRender(e):this.$el:null},selectContent:function(t){var e=this;if(!this.focusedContent){if(!t.target!==this.$el){var n=this.getParentContentRender(t.target);if(n)return this.selectedContent={id:this.contentId,component:this},void t.stopPropagation()}if(this.getState.isSorting)return!1;this.selectedContent={id:this.contentId,component:this},this.$nextTick((function(){e.labelStyle()})),t.stopPropagation()}},activeContent:function(t){if(this.isEditing)return this.unsetEditingContent(),void t.stopPropagation();this.setEditingContentAsThis(),t.stopPropagation()},setEditingContentAsThis:function(){this.focusedContent={id:this.contentId,component:this},this.setEditingContent()},unsetEditingContent:function(){var t=this.editingContent.component;t.$refs["content"]&&t.$refs["content"].disableEdit?t.$refs["content"].disableEdit(this):(this.isEdited=!1,this.$emit("update:value",t.$el.innerHTML)),this.getState.editingContent=null},setEditingContent:function(){this.selectedContent=null,this.editingContent=null,this.getState.editingContent={id:this.getUid,component:this},this.$refs["content"]&&this.$refs["content"].enableEdit?this.$refs["content"].enableEdit():this.isEdited=!0},setFocusedContent:function(){this.selectedContent=null,this.editingContent=null,this.getState.focusedContent={id:this.getUid,component:this}},focusContent:function(t){this.editingContent&&!this.isEditing&&(this.focusedContent=null,this.selectedContent=null,this.unsetEditingContent()),this.focusedContent&&this.focusedContent.id===this.contentId?(this.focusedContent=null,this.selectedContent=null):(this.selectedContent=null,this.focusedContent={id:this.getDataIdFrom(t),component:this}),t.stopPropagation()},createUid:function(){return at()},labelStyle:function(){var t=this.$el.getBoundingClientRect();this.isLabelBottom=t.y<20},updateContents:function(t){this.$emit("input",t)},move:function(t,e,n){var i=t[e];this.$delete(t,e),t.splice(n,0,i)},initSorting:function(){this.value.contents&&(this.sortable=new Tt(this),this.sortable.init())}},created:function(){this.setUid()},mounted:function(){this.initSorting()}},Jt=zt,qt=(n("4cde"),Object(p["a"])(Jt,lt,dt,!1,null,null,null)),Wt=qt.exports,Zt={name:"VueuvEditor",components:{ContentRender:Wt,PopLabel:Vt,Menubar:It,Helper:wt,ContentExporter:F,ContentStyle:I},plugins:[],props:{html:{type:String},css:{type:String},target:{type:[String,Object]},undoStep:{type:[Number,String],default:10}},watch:{config:{deep:!0,handler:function(t,e){var n=this;this.transit=!0,setTimeout((function(){n.transit=!1}),1e3)}}},data:function(){return{transit:!1,config:{mode:"editable",showGrid:!1},states:{selectedContent:null,focusedContent:null,editingContent:null,isSorting:!1,dragBlock:null},contentModel:{isRootContent:!0,contents:[]},logs:[],keys:{ctrl:!1,alt:!1},renderKey:"default"}},provide:function(){return{$editor:this}},computed:{isEditable:function(){return"editable"===this.config.mode},hasEditingContent:function(){return!!this.states.editingContent},getEditorClass:function(){return{"fade-in-out-leave-active":this.transit}}},methods:{hasDragBlock:function(){return!!this.states.dragBlock},refreshKey:function(){this.renderKey=at(),console.log(this.renderKey)},undo:function(){if(this.logs.length){var t=this.logs.pop();console.log(t),t(),this.refreshKey()}},setRollBackPoint:function(){var t=this,e=st(this.contentModel);this.logs.push((function(){t.contentModel=e}))},saveLog:function(){this.logs.length>=this.undoStep&&this.logs.splice(0,1),this.logs.push(JSON.stringify(this.contentModel))},updateContentById:function(t,e){var n=this.getContentRenderById(t);console.log(n,e,n===e),n=e},getContentValueById:function(t){return this.getContentRenderById(t,this.$refs.render).value||{}},getContentRenderById:function(t,e){if(e&&"object"===Object(_["a"])(e)){if(e.contentId===t)return e;for(var n,i=0;i<e.$children.length;i++)if(n=this.getContentRenderById(t,e.$children[i]),n)return n}},showRawCode:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.config.mode="export",n={html:"",css:""},e.next=4,t.$nextTick((function(){n.html=t.getHtml(),n.css=t.getCSS()}));case 4:t.$emit("input",n.html+'<style type="text/css">'.concat(n.css,"</style>"));case 5:case"end":return e.stop()}}),e)})))()},getHtml:function(){var t=this.$refs["exporter"];return t.$el.outerHTML},getCSS:function(){var t=this.$refs["style"];return t.$el.innerText},parseNode:function(t){switch(t.nodeType){case 3:return this.parseTextElement(t);default:return this.parseElement(t)}},parseTextElement:function(t){return{tag:"inner-text",id:at(),class:[],props:{value:t.textContent}}},parseElement:function(t){var e=Object.fromEntries(Array.from(t.attributes,(function(t){var e=t.name,n=t.value;return[e,n]}))),n=e.id||at(),i=Object(k["a"])(t.classList),o=t.tagName.toLowerCase(),s={tag:o,id:n,class:i,style:{},cssText:null,props:e};return t.childNodes&&(s.contents=Array.from(t.childNodes,this.parseNode)),s},convertValueProp:function(t){var e=new DOMParser,n=e.parseFromString(t,"text/html"),i=n.getElementsByTagName("body"),o=this.parseNode(i[0]);this.$set.apply(this,[this.contentModel.contents,0].concat(Object(k["a"])(o.contents)))},handleRenderInput:function(t){this.contentModel=t},setDefaultSelect:function(){this.states.selectedContent=null},updateFocusedContent:function(t){console.log("focusedContent",t)}},mounted:function(){var t=this;if(this.target){var e=document.getElementById(this.target);this.convertValueProp(e.outerHTML),e.style.display="none"}window.addEventListener("keydown",(function(e){"MetaLeft"===e.code&&(t.keys.ctrl=!0),e.metaKey&&"z"===e.key&&t.undo()})),window.addEventListener("keyup",(function(e){"MetaLeft"===e.code&&(t.keys.ctrl=!1)}))}},Xt=Zt,Yt=(n("5f19"),Object(p["a"])(Xt,S,w,!1,null,"2532a5e9",null)),Qt=Yt.exports,te={install:function(t,e){e.plugins.length>0&&(e.plugins.map((function(e){e.methods&&e.methods.enableEdit&&e.methods.disableEdit?e.name?t.component(e.name,e):console.warn("No name component. It cannot be registered."):console.warn(e.name+" cannot be registered. Vueuv Plugin must have [enableEdit, disableEdit] methods.")})),t.$vueuePlugins=e.plugins),t.component(Gt.name,Gt),t.component(Qt.name,Qt),t.directive("vueuv-content",{bind:function(t,e,n,i){var o,s=null===(o=n.context)||void 0===o?void 0:o.$listeners;["click","dblclick","mouseover"].map((function(n){e.value&&e.value[n]?t.addEventListener(n,e.value[n]):s[n]&&t.addEventListener(n,s[n])}))}})}},ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{id:t.getEditorId},domProps:{innerHTML:t._s(t.value)}})},ne=[],ie=n("e562"),oe=n.n(ie);n("ec27"),n("0d68"),n("840a"),n("0a9d"),n("bc54"),n("fbbd"),n("62e5"),n("2fec"),n("ffbe"),n("6957"),n("855b"),n("64d8"),n("0efa"),n("365e"),n("3154"),n("4ea8"),n("4237"),n("3aea"),n("0335"),n("07d7"),n("07d1"),n("c3d7"),n("2b07"),n("ebac"),n("eda9"),n("d2dc"),n("ef37"),n("4bd0"),n("0902"),n("84ec"),n("9434"),n("8863"),n("78e4"),n("cfb0"),n("0aa0"),n("90e7"),n("7193");n("0342");var se={name:"TextContent",label:"문단",contentDefault:{style:{padding:"1rem"},props:{value:"New paragraph"}},props:{value:{type:String}},data:function(){return{editor:null,contentId:null}},methods:{enableEdit:function(){this.loadEditor()},disableEdit:function(){this.$emit("update:value",this.editor.getContent()),this.editor.hide()},loadEditor:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.editor){e.next=3;break}return t.editor.show(),e.abrupt("return");case 3:return n=t.$el.getAttribute("id"),e.next=6,oe.a.init({selector:"#"+n,menubar:!1,inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],font_formats:"Noto Sans KR=Noto Sans KR,sans-serif;",toolbar:"undo redo | fontselect fontsizeselect formatselect | bold italic backcolor | forecolor backcolor casechange permanentpen formatpainter removeformat | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | help",inline_styles:!0});case 6:i=e.sent,console.log(i),t.editor=i[0];case 9:case"end":return e.stop()}}),e)})))()}},computed:{getEditorId:function(){return this.value.id||this._uid}}},re=se,ae=Object(p["a"])(re,ee,ne,!1,null,"44701e84",null),ce=ae.exports,ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isEdited?n("div",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content.stop",value:{dblclick:function(t){t.stopPropagation()}},expression:"{dblclick:(e)=>{ e.stopPropagation(); }}",modifiers:{stop:!0}}],staticClass:"relative"},[n("img",{attrs:{alt:t.alt,src:t.src}}),n("div",{staticClass:"absolute",staticStyle:{height:"80px","z-index":"100",background:"rgba(0,0,0, .5)"},style:t.getEditorStyle},[n("div",{staticClass:"flex justify-center items-center h-full p-2"},[n("input",{staticClass:"w-full",attrs:{id:"src"},domProps:{value:t.src},on:{change:function(e){t.$emit("update:src",e.target.value)}}}),n("vu-button",{on:{click:function(e){return e.stopPropagation(),t.disableEdit(e)}}},[t._v(" Save")])],1)])]):n("img",{directives:[{name:"vueuv-content",rawName:"v-vueuv-content"}],attrs:{alt:t.alt,src:t.src}})},le=[],de={name:"BasicImage",label:"이미지",components:{VuButton:ot},contentDefault:{class:["p-2"],props:{src:"https://via.placeholder.com/150",alt:"Image"}},props:{alt:String,src:String},data:function(){return{isEdited:!1}},methods:{enableEdit:function(){this.isEdited=!0},disableEdit:function(){this.isEdited=!1}},computed:{getEditorStyle:function(){return{width:this.$el.clientWidth+"px"}}}},he=de,fe=Object(p["a"])(he,ue,le,!1,null,"41aa9c51",null),pe=fe.exports;n("ba8c"),n("8f2f");a["default"].use(x["a"]),a["default"].use(te,{plugins:[ce,pe]}),a["default"].config.productionTip=!1;var ge=new a["default"]({render:function(t){return t(y)}}).$mount("#app");e["default"]=ge},e3da:function(t,e,n){"use strict";n("2e56")}});
//# sourceMappingURL=app.c5359c4b.js.map